import{_ as p,W as o,X as c,Y as n,Z as s,$ as t,a0 as e,C as l}from"./framework-4f54a744.js";const i="/docs/assets/image-20221228153917416-4aad0805.png",u={},r=e(`<h1 id="js-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#js-æ–¹æ³•" aria-hidden="true">#</a> js æ–¹æ³•</h1><h2 id="_1ã€æ‰‹æœºå·åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#_1ã€æ‰‹æœºå·åˆ†å‰²" aria-hidden="true">#</a> 1ã€æ‰‹æœºå·åˆ†å‰²</h2><p>å°†æ‰‹æœºå· <code>12345678900</code> è½¬æ¢ä¸º <code>123 4567 8900</code> ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">formateTel</span><span class="token punctuation">(</span><span class="token parameter">tel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{3})(\\d{4})(\\d{4})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span> <span class="token comment">// å°†æ‰‹æœºå·åˆ†å‰²ä¸ºä¸‰ä¸ªéƒ¨åˆ†</span>
	<span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span>tel<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&quot;$1 $2 $3&quot;</span><span class="token punctuation">)</span> <span class="token comment">// $1, $2, $3 åˆ†åˆ«ä¸ºæ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²çš„ä¸‰ä¸ªéƒ¨åˆ†</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2ã€æ£€éªŒå¯†ç æ˜¯å¦åˆè§„" tabindex="-1"><a class="header-anchor" href="#_2ã€æ£€éªŒå¯†ç æ˜¯å¦åˆè§„" aria-hidden="true">#</a> 2ã€æ£€éªŒå¯†ç æ˜¯å¦åˆè§„</h2><p>å¦‚è¿™é‡Œæœ‰ä¸ªè¦æ±‚ï¼šå¯†ç æ ¼å¼ä½ï¼š <code>é•¿åº¦ä¸º 8-16 ä½ï¼Œä¸”å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦@ã€#ã€$ </code> ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">checkPassword</span><span class="token punctuation">(</span><span class="token parameter">password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$])[a-zA-Z0-9@#$]{8,16}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
	<span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿™é‡Œä½¿ç”¨ <code>æ­£å‘è‚¯å®šé¢„æŸ¥</code> æ¨¡å¼ï¼Œå¹¶ä½¿ç”¨ <code>.</code> æ’é™¤æ¢è¡Œç¬¦ï¼Œä½¿ç”¨ <code>*</code> åŒ¹é… 0 æ¬¡æˆ–å¤šæ¬¡ã€‚</p></blockquote><h2 id="_3ã€åƒåˆ†ä½åˆ†éš”ç¬¦" tabindex="-1"><a class="header-anchor" href="#_3ã€åƒåˆ†ä½åˆ†éš”ç¬¦" aria-hidden="true">#</a> 3ã€åƒåˆ†ä½åˆ†éš”ç¬¦</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">formateNumThousand</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!^)(?=(\\d{3})+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
	<span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>/(?=(\\d{3})+$)/g</code> è¡¨ç¤ºæ¯ä¸‰ä½ä¸€åŒ¹é…ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒä¼šåœ¨æ•°å­—æœ€å‰æ–¹ä¹ŸåŠ ä¸Šä¸€ä¸ªé€—å·ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ <code>(?!^)</code> å»é™¤å¤´éƒ¨é€—å·ï¼Œå®ƒè¡¨ç¤ºå¿½ç•¥å¼€å¤´ã€‚</p></blockquote><h2 id="_4ã€åˆå§‹åŒ–æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_4ã€åˆå§‹åŒ–æ•°ç»„" aria-hidden="true">#</a> 4ã€åˆå§‹åŒ–æ•°ç»„</h2><h3 id="åˆå§‹åŒ–ä¸€ä¸ªä¸€ç»´æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–ä¸€ä¸ªä¸€ç»´æ•°ç»„" aria-hidden="true">#</a> åˆå§‹åŒ–ä¸€ä¸ªä¸€ç»´æ•°ç»„</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/* 
	params: 
		len: æ•°ç»„é•¿åº¦
		content: å¡«å……å†…å®¹
*/</span>
<span class="token keyword">function</span> <span class="token function">initArray1</span><span class="token punctuation">(</span><span class="token parameter">len<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„" aria-hidden="true">#</a> åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/* 
	params: 
		len1: ç¬¬ä¸€å±‚æ•°ç»„é•¿åº¦
		len2: ç¬¬äºŒå±‚æ•°ç»„é•¿åº¦
		content: å¡«å……å†…å®¹
*/</span>
<span class="token keyword">function</span> <span class="token function">initArray2</span><span class="token punctuation">(</span><span class="token parameter">len1<span class="token punctuation">,</span> len2<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">Array</span><span class="token punctuation">(</span>len1<span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">Array</span><span class="token punctuation">(</span>len2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5ã€è®¡ç®—ä»£ç è¿è¡Œæ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_5ã€è®¡ç®—ä»£ç è¿è¡Œæ—¶é—´" aria-hidden="true">#</a> 5ã€è®¡ç®—ä»£ç è¿è¡Œæ—¶é—´</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">codeRunTime</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> startTime <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	cb <span class="token operator">&amp;&amp;</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> endTime <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> endTime <span class="token operator">-</span> startTime
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6ã€æ£€éªŒæ‰‹æœºå·" tabindex="-1"><a class="header-anchor" href="#_6ã€æ£€éªŒæ‰‹æœºå·" aria-hidden="true">#</a> 6ã€æ£€éªŒæ‰‹æœºå·</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">checkTel</span><span class="token punctuation">(</span><span class="token parameter">tel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
	<span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>tel<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7ã€æ£€éªŒèº«ä»½è¯å·" tabindex="-1"><a class="header-anchor" href="#_7ã€æ£€éªŒèº«ä»½è¯å·" aria-hidden="true">#</a> 7ã€æ£€éªŒèº«ä»½è¯å·</h2><p>èº«ä»½è¯å·(15 ä½ã€18 ä½æ•°å­—)ï¼Œæœ€åä¸€ä½æ˜¯æ ¡éªŒä½ï¼Œå¯èƒ½ä¸ºæ•°å­—æˆ–å­—ç¬¦ X|x</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">checkIdCard</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
	<span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8ã€æ£€éªŒ-qq-å·" tabindex="-1"><a class="header-anchor" href="#_8ã€æ£€éªŒ-qq-å·" aria-hidden="true">#</a> 8ã€æ£€éªŒ QQ å·</h2><p>è…¾è®¯ QQ å·ä» 10000 å¼€å§‹</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">checkQQ</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">QQ</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[1-9][0-9]{4,}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
	<span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token constant">QQ</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9ã€æ£€éªŒé‚®æ”¿ç¼–ç " tabindex="-1"><a class="header-anchor" href="#_9ã€æ£€éªŒé‚®æ”¿ç¼–ç " aria-hidden="true">#</a> 9ã€æ£€éªŒé‚®æ”¿ç¼–ç </h2><p>ä¸­å›½é‚®æ”¿ç¼–ç ä¸º 6 ä½æ•°å­—</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">checkPostalCode</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[1-9]\\d{5}(?!\\d)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
	<span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10ã€æ£€éªŒé‚®ç®±åœ°å€" tabindex="-1"><a class="header-anchor" href="#_10ã€æ£€éªŒé‚®ç®±åœ°å€" aria-hidden="true">#</a> 10ã€æ£€éªŒé‚®ç®±åœ°å€</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">checkEmail</span><span class="token punctuation">(</span><span class="token parameter">email</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
	<span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_11ã€æ£€éªŒä¸­æ–‡" tabindex="-1"><a class="header-anchor" href="#_11ã€æ£€éªŒä¸­æ–‡" aria-hidden="true">#</a> 11ã€æ£€éªŒä¸­æ–‡</h2><p>åªæ£€éªŒä¸­æ–‡ï¼Œå°±ç®—åŒ…å«ä¸­æ–‡ç¬¦å·å¦‚é€—å·éƒ½è¿”å› false</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">checkChinese</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[\\u4e00-\\u9fa5]*$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
	<span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_12ã€å­—å…¸é¡ºåº" tabindex="-1"><a class="header-anchor" href="#_12ã€å­—å…¸é¡ºåº" aria-hidden="true">#</a> 12ã€å­—å…¸é¡ºåº</h2><p>å°†ä¸€äº›å­—ç¬¦æŒ‰ç…§å­—å…¸ä¸­çš„é¡ºåºè¿›è¡Œæ’åˆ—</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/*
	params: 
		arr: çº¯å­—ç¬¦ä¸²æ•°ç»„
*/</span>
<span class="token keyword">function</span> <span class="token function">orderByDictionary</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;ä¸Šæµ·&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;åŒ—äº¬&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å¹¿å·&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ­å·&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ·±åœ³&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ­¦æ±‰&quot;</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">orderByDictionary</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;åŒ—äº¬&#39;, &#39;å¹¿å·&#39;, &#39;æ­å·&#39;, &#39;ä¸Šæµ·&#39;, &#39;æ·±åœ³&#39;, &#39;æ­¦æ±‰&#39;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong><code>a.localeCompare(b)</code></strong> æ–¹æ³•è¿”å›ä¸€ä¸ª <strong>æ•°å­—</strong> æ¥è¡¨ç¤º a çš„æ’åºåœ¨ b çš„å‰é¢æˆ–åé¢ã€‚</p></blockquote><h2 id="_13ã€æ·±å…‹éš†" tabindex="-1"><a class="header-anchor" href="#_13ã€æ·±å…‹éš†" aria-hidden="true">#</a> 13ã€æ·±å…‹éš†</h2><h3 id="ä¼ ç»Ÿæ·±å…‹éš†æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ä¼ ç»Ÿæ·±å…‹éš†æ–¹æ³•" aria-hidden="true">#</a> ä¼ ç»Ÿæ·±å…‹éš†æ–¹æ³•</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> objectMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> <span class="token function-variable function">_deepClone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token keyword">typeof</span> value
		<span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> type <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> value
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>objectMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> objectMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">const</span> result <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
		objectMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">_deepClone</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> result
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token function">_deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨-messagechannel-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-messagechannel-æ–¹æ³•" aria-hidden="true">#</a> ä½¿ç”¨ <code>MessageChannel()</code> æ–¹æ³•</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> port1<span class="token punctuation">,</span> port2 <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		port1<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
		port2<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,43),d=n("code",null,"MessageChannel",-1),k={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/MessagePort",target:"_blank",rel:"noopener noreferrer"},v=n("code",null,"MessagePort",-1),m=n("strong",null,[n("code",null,"MessagePort")],-1),b={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/MessageChannel",target:"_blank",rel:"noopener noreferrer"},g=n("code",null,"MessageChannel",-1),h=n("code",null,"port1.postMessage(value)",-1),f=n("code",null,"port2.onmessage = msg => msg.data",-1),y=n("p",null,"MessageChannel.port1 å’Œ MessageChannel.port2 è¿™ä¸¤ä¸ªå±æ€§æ˜¯åªè¯»çš„ã€‚",-1),w=e(`<h2 id="_14ã€ç¦ç”¨å¤åˆ¶æˆ–è€…æ›´æ”¹å¤åˆ¶å†…å®¹" tabindex="-1"><a class="header-anchor" href="#_14ã€ç¦ç”¨å¤åˆ¶æˆ–è€…æ›´æ”¹å¤åˆ¶å†…å®¹" aria-hidden="true">#</a> 14ã€ç¦ç”¨å¤åˆ¶æˆ–è€…æ›´æ”¹å¤åˆ¶å†…å®¹</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">changeCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;copy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç¦ç”¨å¤åˆ¶åŠŸèƒ½</span>
		<span class="token comment">// e.clipboardData.setData(&quot;text/plain&quot;, window.getSelection().toString() + &#39;å“ˆå“ˆå“ˆå“ˆ&#39;) // æ›´æ”¹ç”¨æˆ·å¤åˆ¶å†…å®¹</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>e.clipboardData.setData(&quot;text/plain&quot;, value)</code> å‘ç”¨æˆ·å‰ªåˆ‡æ¿å†™å…¥å†…å®¹ã€‚</p><p><code>window.getSelection().toString()</code> è·å–ç”¨æˆ·å¤åˆ¶çš„å†…å®¹ã€‚</p></blockquote><h2 id="_15ã€ç›‘å¬-localstorage-å€¼çš„å˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_15ã€ç›‘å¬-localstorage-å€¼çš„å˜åŒ–" aria-hidden="true">#</a> 15ã€ç›‘å¬ localStorage å€¼çš„å˜åŒ–</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;storage&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_16ã€å–æ¶ˆè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#_16ã€å–æ¶ˆè¯·æ±‚" aria-hidden="true">#</a> 16ã€å–æ¶ˆè¯·æ±‚</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> controller <span class="token operator">=</span> <span class="token keyword">null</span>
input<span class="token punctuation">.</span><span class="token function-variable function">oninput</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	controller <span class="token operator">&amp;&amp;</span> controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å–æ¶ˆå‰é¢çš„è¯·æ±‚</span>
	controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç»™æœ¬æ¬¡è¯·æ±‚åˆ›å»ºä¸€ä¸ª controller</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>
			url<span class="token punctuation">,</span>
			<span class="token punctuation">{</span> <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span>signal <span class="token punctuation">}</span> <span class="token comment">// æ ‡è®°æœ¬æ¬¡è¯·æ±‚</span>
		<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token comment">// å…¶ä»–ä»£ç </span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å·²å–æ¶ˆ&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ç±»ä¼¼åœ¨çŸ­æœŸå†…å¤šæ¬¡å¿«é€Ÿè¿›è¡Œç½‘ç»œè¯·æ±‚æ—¶ï¼Œå°±å¯ä»¥ç”¨åˆ°å–æ¶ˆè¯·æ±‚ï¼Œå¦‚æœç´¢æ¡†ä¸­å®æ—¶å±•ç¤ºç”¨æˆ·è¾“å…¥å†…å®¹ç›¸å…³è”çš„æœç´¢å†…å®¹æ—¶ã€‚</p><p>éœ€è¦ç”¨åˆ°çš„åŸå› æ˜¯ï¼šç½‘ç»œè¯·æ±‚ä¸ºå¼‚æ­¥æ“ä½œï¼Œè€ŒçŸ­æ—¶é—´å†…çš„å¤šæ¬¡è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å±•ç¤ºç”¨æˆ·æœ€åä¸€æ¬¡è¯·æ±‚çš„å†…å®¹ï¼Œè€Œç”±äºè¯·æ±‚å“åº”æ—¶é—´çš„é—®é¢˜ï¼Œæˆ‘ä»¬å®é™…æœ€åè¿”å›çš„å“åº”å†…å®¹å¯èƒ½ä¸æ˜¯ç”¨æˆ·æœ€åä¸€æ¬¡è¯·æ±‚çš„å“åº”ï¼Œè€Œæ˜¯è¢«å“åº”æ—¶é—´è¾ƒé•¿çš„å‰æ¬¡è¯·æ±‚çš„ç»“æœè¦†ç›–äº†ï¼Œå¯¼è‡´å±•ç¤ºå†…å®¹ä¸å®é™…éœ€è¦å†…å®¹ä¸ç¬¦åˆçš„æƒ…å†µã€‚</p><p>ä»£ç ä¸­ä½¿ç”¨ try catch æ˜¯å› ä¸ºæ¯ä¸ªè¢«å–æ¶ˆæ‰çš„è¯·æ±‚éƒ½ä¼šè¿›è¡ŒæŠ¥é”™ï¼Œå› æ­¤ä½¿ç”¨ trt catch æ¥è·å–é”™è¯¯ï¼Œä¸è®©å…¶æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸­ã€‚</p><p>è¯·æ±‚ä¸­çš„ signal æ˜¯è¿›è¡Œæ ‡è®°è¯·æ±‚çš„ï¼Œå› ä¸º controller éœ€è¦çŸ¥é“å–æ¶ˆçš„æ˜¯å“ªä¸€ä¸ªè¯·æ±‚ã€‚</p></blockquote><h3 id="axios-å–æ¶ˆè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#axios-å–æ¶ˆè¯·æ±‚" aria-hidden="true">#</a> axios å–æ¶ˆè¯·æ±‚</h3>`,9),x=n("code",null,"v0.22.0",-1),q={href:"https://developer.mozilla.org/en-US/docs/Web/API/AbortController",target:"_blank",rel:"noopener noreferrer"},j=n("code",null,"AbortController",-1),_=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> controller <span class="token operator">=</span> <span class="token keyword">null</span>
input<span class="token punctuation">.</span><span class="token function-variable function">oninput</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	controller <span class="token operator">&amp;&amp;</span> controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span>signal <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token comment">// å…¶ä»–ä»£ç </span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å·²å–æ¶ˆ&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Axios çš„ cancel token API å–æ¶ˆè¯·æ±‚ä» <code>v0.22.0</code> å¼€å§‹è¢«å¼ƒç”¨ï¼Œä¸åº”åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p></blockquote><h2 id="_17ã€fetch-åˆ†å—åŠ è½½å¤§æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_17ã€fetch-åˆ†å—åŠ è½½å¤§æ•°æ®" aria-hidden="true">#</a> 17ã€fetch åˆ†å—åŠ è½½å¤§æ•°æ®</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;flower.jpg&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> reader <span class="token operator">=</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">/*
  	done: è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯å¦ç»“æŸ
  	value: è¿”å›ä¸€ä¸ª arrayBuffer æ•°ç»„ï¼Œè¡¨ç¤ºå†…å®¹å—çš„å†…å®¹
  */</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> done<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">break</span>
	<span class="token punctuation">}</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>Response.body</code>å±æ€§æ˜¯ Response å¯¹è±¡æš´éœ²å‡ºçš„åº•å±‚æ¥å£ï¼Œè¿”å›ä¸€ä¸ª ReadableStream å¯¹è±¡ï¼Œä¾›ç”¨æˆ·æ“ä½œã€‚</p><p>å®ƒå¯ä»¥ç”¨æ¥åˆ†å—è¯»å–å†…å®¹ï¼Œåº”ç”¨ä¹‹ä¸€å°±æ˜¯æ˜¾ç¤ºä¸‹è½½çš„è¿›åº¦ã€‚</p><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>response.body.getReader()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªéå†å™¨ã€‚è¿™ä¸ªéå†å™¨çš„<code>read()</code>æ–¹æ³•æ¯æ¬¡è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºæœ¬æ¬¡è¯»å–çš„å†…å®¹å—ã€‚</p></blockquote><h2 id="_18ã€å­—ç¬¦ä¸²æˆªå–-ç ç‚¹å’Œç å…ƒ" tabindex="-1"><a class="header-anchor" href="#_18ã€å­—ç¬¦ä¸²æˆªå–-ç ç‚¹å’Œç å…ƒ" aria-hidden="true">#</a> 18ã€å­—ç¬¦ä¸²æˆªå–ï¼Œç ç‚¹å’Œç å…ƒ</h2><p>è§£å†³æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä½¿ç”¨ slice ç­‰å­—ç¬¦ä¸²æˆªå–æ–¹æ³•è¿”å›çš„å€¼åŒ…å«ä¹±ç </p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;ğŸ˜æµ‹è¯•ç å…ƒç ç‚¹&quot;</span>

<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sliceByPoint</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">pStart<span class="token punctuation">,</span> pEnd</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token comment">// æˆªå–çš„ç»“æœ</span>
	<span class="token keyword">let</span> pIndex <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// ç ç‚¹çš„æŒ‡é’ˆ</span>
	<span class="token keyword">let</span> cIndex <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// ç å…ƒçš„æŒ‡é’ˆ</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// å½“æˆªå–åˆ°ç”¨æˆ·è¾“å…¥çš„ç»“æŸçš„index æˆ–è€… æˆªå–åˆ°äº†æ•´ä¸ªå­—ç¬¦ä¸²é•¿åº¦æ—¶ï¼Œè·³å‡ºå¾ªç¯</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pIndex <span class="token operator">&gt;=</span> pEnd <span class="token operator">||</span> cIndex <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">break</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// è¿”å›å€¼æ˜¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ç»™å®šç´¢å¼•çš„ Unicode ç¼–ç ç‚¹å€¼çš„éè´Ÿæ•´æ•°</span>
		<span class="token keyword">const</span> point <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span>cIndex<span class="token punctuation">)</span>
		<span class="token comment">// å½“å¾ªç¯åˆ°ç”¨æˆ·è¾“å…¥çš„å¼€å§‹æˆªå–çš„ index æ—¶ï¼Œå¼€å§‹æˆªå–å­—ç¬¦ä¸²</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pIndex <span class="token operator">&gt;=</span> pStart<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// è¿”å›ä½¿ç”¨æŒ‡å®šçš„ Unicode ç¼–ç ä½ç½®åˆ›å»ºçš„å­—ç¬¦ä¸²</span>
			result <span class="token operator">+=</span> String<span class="token punctuation">.</span><span class="token function">fromCodePoint</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// ç ç‚¹æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ª</span>
		pIndex<span class="token operator">++</span>
		<span class="token comment">// ç å…ƒæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªï¼Œé€šè¿‡å½“å‰è¿™ä¸ªå­—ç¬¦çš„ç¼–ç æ˜¯å¦å¤§äº4ä½16è¿›åˆ¶å€¼æ¥åˆ¤æ–­å…¶å ä¸€ä¸ªç å…ƒè¿˜æ˜¯ä¸¤ä¸ªç å…ƒ</span>
		cIndex <span class="token operator">+=</span> point <span class="token operator">&gt;</span> <span class="token number">0xffff</span> <span class="token operator">?</span> <span class="token number">2</span> <span class="token operator">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> result
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">sliceByPoint</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ğŸ˜</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ï¿½</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ï¿½</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>&#39;å“ˆ&#39; è¿™ä¸ªå­—çš„ length ä¸º 1ï¼Œå³å®ƒçš„ç å…ƒä¸º 1ï¼Œä½†æ˜¯å®ƒçš„ç ç‚¹ä¸º 1</p><p>&#39;ğ ®·&#39; è¿™ä¸ªå­—çš„ length ä¸º 2ï¼Œå³å®ƒçš„ç å…ƒä¸º 2ï¼Œä½†æ˜¯å®ƒçš„ç ç‚¹ä¸º 1</p><p>&#39;ğŸ˜&#39; è¿™ä¸ªå­—ç¬¦çš„ length ä¸º 2ï¼Œå³å®ƒçš„ç å…ƒä¸º 2ï¼Œä½†æ˜¯å®ƒçš„ç ç‚¹ä¸º 1</p><p><code>ç å…ƒ</code> ï¼šjs å¯¹å­—ç¬¦çš„ç¼–ç ä¸€å¼€å§‹ä½¿ç”¨çš„è§„èŒƒæ˜¯<code>ucs-2</code>ã€‚ <strong>ucs-2 è§„å®šæ¯ä¸€ä¸ªå­—ç¬¦å¯¹åº” 16 ä½ï¼ˆäºŒè¿›åˆ¶ç¼–ç ï¼‰çš„ç©ºé—´</strong> ï¼Œè¿™ <strong>16 ä½çš„ç©ºé—´è¢«ç§°ä¹‹ä¸ºç å…ƒ</strong> ï¼Œå³ä¸€ä¸ªæ–‡å­—å¯¹åº”ä¸€ä¸ªç å…ƒã€‚ä½†æ˜¯éšç€ç”Ÿåƒ»å­—è¶Šæ¥è¶Šå¤šï¼Œè¿˜åŠ å…¥äº† emoji è¡¨æƒ…ï¼Œ16 ä½çš„ç©ºé—´ä¸å¤Ÿç”¨äº†ã€‚äºæ˜¯ js æŠŠç¼–ç æ–¹å¼æ¢æˆäº†<code>utf-16</code>ï¼Œ <strong>utf-16 å…è®¸ä¸€ä¸ªå­—ç¬¦å¯ä»¥å ç”¨ 16 ä½ç©ºé—´ï¼Œå³ä¸€ä¸ªç å…ƒï¼Œä¹Ÿå¯ä»¥å ç”¨ 32 ä½ï¼ˆäºŒè¿›åˆ¶ç¼–ç ï¼‰çš„ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªç å…ƒ</strong> ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™äº› <strong>ç”Ÿåƒ»å­—æˆ–è€… emoji è¡¨æƒ…å°±å ç”¨äº†ä¸¤ä¸ªç å…ƒ</strong> ã€‚</p><p><code>ç ç‚¹</code> ï¼šç ç‚¹å¯ä»¥å¯¹åº” 16 ä½ç©ºé—´ï¼Œä¹Ÿå¯ä»¥å¯¹åº” 32 ä½ç©ºé—´ï¼Œ <strong>ä¸€ä¸ªå­—ç¬¦å°±æ˜¯ä¸€ä¸ªç ç‚¹</strong> ã€‚</p><p>å­—ç¬¦ä¸²çš„ length å…¶å®ç»Ÿè®¡çš„å°±æ˜¯ç å…ƒï¼Œè€Œ js çš„æˆªå–å­—ç¬¦ä¸²çš„æ–¹æ³•ä¹Ÿæ˜¯æˆªå–çš„ç å…ƒä½ç½®ï¼Œå› æ­¤åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæˆªå–å†…å®¹å¯èƒ½ä¼šåŒ…å«ä¹±ç ã€‚</p></blockquote><p><img src="`+i+`" alt="image-20221228153917416"></p><h2 id="_19ã€å°†ä¸‹è½½é“¾æ¥è½¬æ¢ä¸ºè¿…é›·ä¸‹è½½é“¾æ¥-è§¦å‘è¿…é›·ä¸‹è½½" tabindex="-1"><a class="header-anchor" href="#_19ã€å°†ä¸‹è½½é“¾æ¥è½¬æ¢ä¸ºè¿…é›·ä¸‹è½½é“¾æ¥-è§¦å‘è¿…é›·ä¸‹è½½" aria-hidden="true">#</a> 19ã€å°†ä¸‹è½½é“¾æ¥è½¬æ¢ä¸ºè¿…é›·ä¸‹è½½é“¾æ¥ï¼Œè§¦å‘è¿…é›·ä¸‹è½½</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">turnLinkToThunder</span><span class="token punctuation">(</span><span class="token parameter">link</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// åœ¨åŸé“¾æ¥å‰åä¸¤ç«¯æ·»åŠ ç‰¹æ®Šå­—ç¬¦ï¼Œç„¶åè¿›è¡Œ base64 ç¼–ç ï¼Œæœ€ååŠ ä¸Šè¿…é›·ä¸‹è½½åè®®</span>
	<span class="token keyword">const</span> newLink <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">thunder://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">btoa</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">AA</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>link<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ZZ</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
	<span class="token keyword">return</span> newLink
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åœ¨ä½¿ç”¨ä¸Šè¿°æ–¹æ³•å°†é“¾æ¥è½¬æ¢ä¸ºè¿…é›·ä¸‹è½½åè®®é“¾æ¥åï¼Œè¿˜éœ€è¦åœ¨ç‚¹å‡»ä¸‹è½½çš„å…ƒç´ ä¸ŠåŠ ä¸Š <code>data-thunder</code> å±æ€§ï¼Œå¦‚ï¼š</p><p><code>&lt;a data-thunder herf=&quot;è½¬æ¢åçš„ä¸‹è½½é“¾æ¥&quot;&gt;&lt;/a&gt;</code></p></blockquote><h2 id="_20ã€å‰ç«¯æ–‡ä»¶ä¸‹è½½çš„å‡ ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_20ã€å‰ç«¯æ–‡ä»¶ä¸‹è½½çš„å‡ ç§æ–¹å¼" aria-hidden="true">#</a> 20ã€å‰ç«¯æ–‡ä»¶ä¸‹è½½çš„å‡ ç§æ–¹å¼</h2><h3 id="a-æ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#a-æ ‡ç­¾" aria-hidden="true">#</a> a æ ‡ç­¾</h3><p>é€šè¿‡ <code>a</code> æ ‡ç­¾çš„ <code>download</code> å±æ€§æ¥å®ç°æ–‡ä»¶ä¸‹è½½</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ä¸‹è½½é“¾æ¥<span class="token punctuation">&quot;</span></span> <span class="token attr-name">download</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ–‡ä»¶åç§°<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¸‹è½½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>ç¼ºç‚¹ï¼š<code>a</code> æ ‡ç­¾åªèƒ½ä¸‹è½½åŒæºçš„æ–‡ä»¶ï¼Œå¦‚æœæ˜¯è·¨åŸŸçš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰åª’ä½“æ–‡ä»¶ï¼Œéƒ½åªèƒ½é¢„è§ˆï¼Œæ— æ³•ä¸‹è½½ã€‚</p></blockquote><h3 id="window-open" tabindex="-1"><a class="header-anchor" href="#window-open" aria-hidden="true">#</a> window.open</h3><p>è¿™ç§æ–¹æ³•ä¸ä½¿ç”¨ <code>a</code> æ ‡ç­¾æ•ˆæœä¸€æ ·</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‹è½½é“¾æ¥&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;_blank&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>ç¼ºç‚¹ï¼šç±»ä¼¼ <code>a</code> æ ‡ç­¾ä¸èƒ½ä¸‹è½½è·¨åŸŸæ–‡ä»¶ã€åª’ä½“æ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿä¸èƒ½ä¸‹è½½<code>.html .htm .xml .xhtml</code> ç­‰æ–‡ä»¶ï¼Œå› ä¸ºè¿™äº›æ–‡ä»¶ä¼šè¢«å½“æˆ <code>.html</code> æ–‡ä»¶æ¥å¤„ç†ï¼Œä¼šç›´æ¥åœ¨å½“å‰é¡µé¢æ‰“å¼€é¢„è§ˆã€‚</p></blockquote><h3 id="location-href" tabindex="-1"><a class="header-anchor" href="#location-href" aria-hidden="true">#</a> location.href</h3><p>è¿™ç§æ–¹å¼å’Œ<code>window.open(url)</code>æ˜¯ä¸€æ ·çš„</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;ä¸‹è½½é“¾æ¥&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>ç¼ºç‚¹ï¼šè¿™ç§æ–¹å¼æ‹¥æœ‰<code>window.open</code>çš„æ‰€æœ‰ç¼ºé™·</p></blockquote><h3 id="location-å…¶ä»–å±æ€§" tabindex="-1"><a class="header-anchor" href="#location-å…¶ä»–å±æ€§" aria-hidden="true">#</a> location.? å…¶ä»–å±æ€§</h3><p>è¿™é‡Œçš„å…¶ä»–æŒ‡ä»£çš„éƒ½æ˜¯èƒ½è·³è½¬é¡µé¢çš„å±æ€§ï¼Œæ¯”å¦‚<code>location.assign</code>ã€<code>location.replace</code>ã€<code>location.reload</code>ç­‰ï¼Œè¿™äº›å±æ€§éƒ½æ˜¯å¯ä»¥å®ç°æ–‡ä»¶ä¸‹è½½</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‹è½½é“¾æ¥&quot;</span><span class="token punctuation">)</span>
location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‹è½½é“¾æ¥&quot;</span><span class="token punctuation">)</span>
location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‹è½½é“¾æ¥&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿™é‡Œçš„<code>location.reload</code>æ˜¯æœ‰ç‚¹ç‰¹æ®Šçš„ï¼Œå®ƒçš„ä½œç”¨æ˜¯é‡æ–°åŠ è½½å½“å‰é¡µé¢ï¼Œä½†æ˜¯å®ƒä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯è¦è·³è½¬çš„é¡µé¢ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å®ç°æ–‡ä»¶ä¸‹è½½ã€‚</p><p>ç¼ºç‚¹ï¼šå½“ç„¶åŒ<code>location.href</code>ä¸€æ ·ï¼Œè¿™äº›æ–¹å¼çš„ç¼ºç‚¹éƒ½ä¸€æ ·ï¼ŒåŒæ—¶è¿˜æœ‰å±äºæ¯ä¸ªå±æ€§è‡ªèº«çš„ç‰¹æ€§ï¼Œè¿™é‡Œåªå½“æ‹“å±•çŸ¥è¯†ï¼Œä¸åšè¿‡å¤šçš„è®²è§£ã€‚</p></blockquote><h3 id="xmlhttprequest" tabindex="-1"><a class="header-anchor" href="#xmlhttprequest" aria-hidden="true">#</a> XMLHttpRequest</h3><p>è¿™ç§æ–¹å¼å°±æ˜¯å¸¸è¯´çš„ <code>ajax</code> ä¸‹è½½ï¼ŒåŒ…æ‹¬ <code>axios | fetch</code> ç­‰éƒ½æ˜¯ç›¸åŒçš„</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸‹è½½é“¾æ¥&quot;</span><span class="token punctuation">)</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">/*
  	
  	è¿™é‡Œè·å–æ–‡ä»¶çš„ç±»å‹æœ‰ä¸¤ç§åŠæ³•ï¼š
  		1ã€å’Œæ¥å£æä¾›è€…è¿›è¡Œåå•†
  		2ã€é€šè¿‡ response çš„ header æ¥è·å–æ–‡ä»¶çš„ type
  */</span>
	<span class="token comment">// è¿™é‡Œé€šè¿‡ response çš„ header æ¥è·å–æ–‡ä»¶çš„type</span>
	<span class="token comment">// const type = xhr.response.headers[&quot;content-type&quot;]</span>
	<span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;text/html&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>
	a<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span>
	a<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">&quot;æ–‡ä»¶åç§°&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>Blob</code>ï¼šBlob å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ã€‚å®ƒçš„æ•°æ®å¯ä»¥æŒ‰æ–‡ä»¶æˆ–äºŒè¿›åˆ¶çš„æ ¼å¼è¿›è¡Œè¯»å–ï¼Œä¹Ÿå¯ä»¥è½¬æ¢æˆ <code>ReadableStream</code> æ¥ç”¨äºæ•°æ®æ“ä½œã€‚Blob è¡¨ç¤ºçš„ä¸ä¸€å®šæ˜¯ js åŸç”Ÿæ ¼å¼çš„æ•°æ®ã€‚<code>File</code> æ¥å£åŸºäº Blobï¼Œç»§æ‰¿äº† Blob çš„åŠŸèƒ½å¹¶å°†å…¶æ‰©å±•ä»¥æ”¯æŒç”¨æˆ·ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ã€‚</p><p><code>URL.createObjectURL</code>ï¼šURL.createObjectURL() é™æ€æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ª DOMStringï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªè¡¨ç¤ºå‚æ•°ä¸­ç»™å‡ºçš„å¯¹è±¡çš„ URLã€‚è¿™ä¸ª URL çš„ç”Ÿå‘½å‘¨æœŸå’Œåˆ›å»ºå®ƒçš„çª—å£ä¸­çš„ document ç»‘å®šã€‚è¿™ä¸ªæ–°çš„ URL å¯¹è±¡è¡¨ç¤ºæŒ‡å®šçš„ File å¯¹è±¡æˆ– Blob å¯¹è±¡ã€‚</p><p><code>URL.createObjectURL(blob)</code>ï¼šè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯æŠŠä¸€ä¸ª blob å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ª url ï¼Œè¿™ä¸ª url å¯ä»¥ç”¨æ¥ä¸‹è½½æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥é¢„è§ˆæ–‡ä»¶ã€‚</p></blockquote><ul><li><p>æ³¨ï¼šblob ä¸­çš„ type ä¸ºæ–‡ä»¶ç±»å‹ï¼Œè¿™é‡Œæ˜¯å†™æ­»çš„ï¼Œä½†æ˜¯å¦‚æœæ–‡ä»¶ç±»å‹æ²¡æœ‰ç¡®å®šï¼Œæˆ‘ä»¬å°±éœ€è¦è·å–æ–‡ä»¶çš„ typeã€‚</p><p>è¿™é‡Œè·å–æ–‡ä»¶çš„ç±»å‹æœ‰ä¸¤ç§åŠæ³•ï¼š</p><ol><li><p>å’Œæ¥å£æä¾›è€…è¿›è¡Œåå•†</p></li><li><p>é€šè¿‡ response çš„ header æ¥è·å–æ–‡ä»¶çš„ type</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> type <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>response<span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>content-type</code> ä¹Ÿå¯èƒ½æ˜¯ <code>application/octet-stream</code> ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦é€šè¿‡ <code>file-type</code> æ¥è·å–æ–‡ä»¶çš„ type</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> fileTypeFromStream <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;file-type&quot;</span>

<span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fileTypeFromStream</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
<span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>response<span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>file-type</code> è¦é€šè¿‡ npm å®‰è£…</p></blockquote></li></ol></li></ul><h2 id="_21ã€å¹³æ»‘æ»šåŠ¨åˆ°ç‰¹å®šå…ƒç´ " tabindex="-1"><a class="header-anchor" href="#_21ã€å¹³æ»‘æ»šåŠ¨åˆ°ç‰¹å®šå…ƒç´ " aria-hidden="true">#</a> 21ã€å¹³æ»‘æ»šåŠ¨åˆ°ç‰¹å®šå…ƒç´ </h2><p><code>Element.scrollIntoView()</code> æ–¹æ³•å°†æŒ‡å®šå…ƒç´ æ»šåŠ¨åˆ°çª—å£æ˜¾ç¤ºéƒ¨åˆ†ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;element-id&quot;</span><span class="token punctuation">)</span>

element<span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">&quot;smooth&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,38);function C(A,M){const a=l("ExternalLinkIcon");return o(),c("div",null,[r,n("blockquote",null,[n("p",null,[s("Channel Messaging API çš„ "),d,s(" æ¥å£å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯é€šé“ï¼Œå¹¶é€šè¿‡å®ƒçš„ä¸¤ä¸ª"),n("a",k,[v,t(a)]),s(" å±æ€§å‘é€æ•°æ®ã€‚")]),n("p",null,[m,s(" æ¥å£ä»£è¡¨ "),n("a",b,[g,t(a)]),s(" çš„ä¸¤ä¸ªç«¯å£ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥è®©ä½ ä»ä¸€ä¸ªç«¯å£å‘é€æ¶ˆæ¯ï¼Œå¹¶åœ¨æ¶ˆæ¯åˆ°è¾¾çš„å¦ä¸€ä¸ªç«¯å£ç›‘å¬å®ƒä»¬ï¼Œå³ä½¿ç”¨ "),h,s(" ç”¨ä»¥å‘é€ valueï¼Œ"),f,s(" ç”¨æ¥æ¥æ”¶ valueã€‚")]),y]),w,n("p",null,[s("ä» "),x,s(" å¼€å§‹ï¼ŒAxios æ”¯æŒä»¥ fetch API æ–¹å¼â€”â€” "),n("a",q,[j,t(a)]),s(" å–æ¶ˆè¯·æ±‚ï¼š")]),_])}const I=p(u,[["render",C],["__file","jsæ–¹æ³•.html.vue"]]);export{I as default};
