import{_ as e,W as o,X as c,Y as n,Z as s,$ as t,a0 as p,C as l}from"./framework-4f54a744.js";const i="/docs/assets/image-20211009093303904-2ae03d4d.png",u="/docs/assets/image-20211118151052889-c277cb35.png",r={},k=p(`<h1 id="般若互动的一些项目的笔记" tabindex="-1"><a class="header-anchor" href="#般若互动的一些项目的笔记" aria-hidden="true">#</a> 般若互动的一些项目的笔记</h1><h2 id="保利测试-h5" tabindex="-1"><a class="header-anchor" href="#保利测试-h5" aria-hidden="true">#</a> 保利测试 H5</h2><h3 id="canvas-画图" tabindex="-1"><a class="header-anchor" href="#canvas-画图" aria-hidden="true">#</a> canvas 画图</h3><ol><li><p>需要绘制图片时：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cvs<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>750<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">const</span> cvs <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#cvs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment">// 获取 canvas 标签</span>
	<span class="token keyword">const</span> ctx <span class="token operator">=</span> cvs<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&#39;2d&#39;</span><span class="token punctuation">)</span>  <span class="token comment">// 获得 2d 上下文对象</span>
	<span class="token keyword">const</span> bg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 实例化一个图片对象</span>
	   bg<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">&quot;anonymous&quot;</span>
	   <span class="token comment">// 解决 canvas 受污染无法使用 toDataURL 方法导出图像的问题</span>
	bg<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	   	ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>bg<span class="token punctuation">,</span> 左上角 x 轴位置<span class="token punctuation">,</span> 左上角 y 轴位置<span class="token punctuation">,</span> 宽度<span class="token punctuation">,</span> 高度<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	bg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;图片资源地址&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>将方形图片裁剪为圆形图片：基本思路就是先画一个圆形，然后将圆形封闭起来，裁剪掉周围部分，盖在方形图片上，此时方形图片超出圆形范围的部分就不会被显示，看起来就是一张圆形的图片。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> width <span class="token operator">=</span> img<span class="token punctuation">.</span>width<span class="token punctuation">;</span>  <span class="token comment">// 获取图片的宽度</span>
    <span class="token keyword">var</span> height <span class="token operator">=</span> img<span class="token punctuation">.</span>height<span class="token punctuation">;</span>  <span class="token comment">// 获取图片的高度</span>
    <span class="token keyword">var</span> circle <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">x</span><span class="token operator">:</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">y</span><span class="token operator">:</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">r</span><span class="token operator">:</span> width <span class="token operator">/</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>  <span class="token comment">// 设置将要画的圆形的 (x, y) 坐标和半径</span>

    <span class="token comment">//开始路径画圆,剪切处理</span>
	ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 是 Canvas 2D API 通过将当前状态放入栈中，保存 canvas 全部状态的方法。</span>
	ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 是 Canvas 2D API 通过清空子路径列表开始一个新路径的方法。</span>
    <span class="token comment">// 当你想创建一个新的路径时，调用此方法。</span>
	ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>圆心的 x 轴坐标<span class="token punctuation">,</span> 圆心的 y 轴坐标<span class="token punctuation">,</span> 半径<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment">// 画一个圆形</span>
	ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 是 Canvas 2D API 将笔点返回到当前子路径起始点的方法。</span>
    <span class="token comment">// 它尝试从当前点到起始点绘制一条直线。</span>
    <span class="token comment">// 如果图形已经是封闭的或者只有一个点，那么此方法不会做任何操作。</span>
	ctx<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 是 Canvas 2D API 将当前创建的路径设置为当前剪切路径的方法。</span>
	ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> 左上角 x 轴位置<span class="token punctuation">,</span> 左上角 y 轴位置<span class="token punctuation">,</span> 宽度<span class="token punctuation">,</span> 高度<span class="token punctuation">)</span>  <span class="token comment">// 画图片</span>
	ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 是 Canvas 2D API 通过在绘图状态栈中弹出顶端的状态。</span>
    <span class="token comment">// 将 canvas 恢复到最近的保存状态的方法。 如果没有保存状态，此方法不做任何改变。</span>
<span class="token punctuation">}</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;图片资源路径&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>绘制实体文字：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;32px HYQiHei&quot;</span>  <span class="token comment">// 字体大小和字体类型（默认为 serif）</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#ffffff&quot;</span>  <span class="token comment">// 字体颜色</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>文本内容<span class="token punctuation">,</span> 离左侧的距离<span class="token punctuation">,</span> 文字的 baseline 离上方的距离<span class="token punctuation">)</span>
    <span class="token comment">// 绘制实体文本</span>
    ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="刷新当前网站" tabindex="-1"><a class="header-anchor" href="#刷新当前网站" aria-hidden="true">#</a> 刷新当前网站</h3><p><code>location.reload()</code></p><h3 id="jquery" tabindex="-1"><a class="header-anchor" href="#jquery" aria-hidden="true">#</a> jQuery</h3><h4 id="on" tabindex="-1"><a class="header-anchor" href="#on" aria-hidden="true">#</a> .on()</h4><p><code>on(&#39;click&#39;, function() {})</code> ：点击事件，回调函数中写发生的事情。</p><h4 id="fadein" tabindex="-1"><a class="header-anchor" href="#fadein" aria-hidden="true">#</a> .fadeIn()</h4><p><code>fadeIn(执行时间-单位毫秒, function() {})</code> ：页面淡入，回调函数中写发生的事情。</p><h4 id="fadeout" tabindex="-1"><a class="header-anchor" href="#fadeout" aria-hidden="true">#</a> .fadeOut()</h4><p><code>fadeOut()</code> ：页面淡出，与 <code>fadeIn</code> 写法一致。</p><h4 id="addclass" tabindex="-1"><a class="header-anchor" href="#addclass" aria-hidden="true">#</a> .addClass()</h4><p><code>addClass(类名-string)</code> ：给元素添加一个类。</p><h4 id="removeclass" tabindex="-1"><a class="header-anchor" href="#removeclass" aria-hidden="true">#</a> .removeClass()</h4><p><code>removeClass(类名-string)</code> ：给元素删除一个类。</p><h4 id="remove" tabindex="-1"><a class="header-anchor" href="#remove" aria-hidden="true">#</a> .remove()</h4><p><code>remove()</code> ：移除被选元素，包括所有的文本和子节点。</p><p>该方法也会移除被选元素的数据和事件。</p>`,20),d={href:"https://www.runoob.com/jquery/html-detach.html",target:"_blank",rel:"noopener noreferrer"},v={href:"https://www.runoob.com/jquery/html-empty.html",target:"_blank",rel:"noopener noreferrer"},m=p('<h4 id="data" tabindex="-1"><a class="header-anchor" href="#data" aria-hidden="true">#</a> .data()</h4><p><code>data(name-string)</code> ：获取在 h5 中使用 <code>data-xxx</code> 定义的属性的值，其中 name 即是 xxx 。</p><h4 id="parent" tabindex="-1"><a class="header-anchor" href="#parent" aria-hidden="true">#</a> .parent()</h4><p><code>parent()</code> ：获取元素的直接父级元素。</p><h4 id="parents" tabindex="-1"><a class="header-anchor" href="#parents" aria-hidden="true">#</a> .parents()</h4><p><code>parents()</code> ：获取元素的所有父级元素，直到 <code>&lt;html&gt;</code> 。</p><p><code>parents(name-string)</code> ：获取元素的指定的所有父级元素中的某个，name 为 <code>标签名 | class名 | id名</code> 。</p><h4 id="children" tabindex="-1"><a class="header-anchor" href="#children" aria-hidden="true">#</a> .children()</h4><p><code>children()</code> ： 获取元素的所有直接子元素。</p><p><code>children(name-string)</code> ：获取元素的指定的所有直接子元素，name 为 <code>标签名 | class名 | id名</code> 。</p><h4 id="siblings" tabindex="-1"><a class="header-anchor" href="#siblings" aria-hidden="true">#</a> .siblings()</h4><p><code>siblings()</code> ：返回元素的所有兄弟元素。</p><p><code>siblings(name-string)</code> ：返回元素的指定的所有兄弟元素，name 为 <code>标签名 | class名 | id名</code> 。</p><h4 id="next" tabindex="-1"><a class="header-anchor" href="#next" aria-hidden="true">#</a> .next()</h4><p><code>next()</code> ：返回元素的下一个兄弟元素。</p><h4 id="unbind" tabindex="-1"><a class="header-anchor" href="#unbind" aria-hidden="true">#</a> .unbind()</h4><p><code>unbind(event, function, eventObj)</code> ：移除被选元素的事件处理程序。</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>event</td><td>可选。<br>规定一个或多个要从元素上移除的事件。<br>由空格分隔多个事件值。<br>如果只规定了该参数，则会删除绑定到指定事件的所有函数。</td></tr><tr><td>function</td><td>可选。<br>规定从元素上指定事件取消绑定的函数名称。</td></tr><tr><td>eventObj</td><td>可选。<br>规定要使用的移除的 event 对象。<br>这个 eventObj 参数来自事件绑定函数。</td></tr></tbody></table><ol><li>该方法能够移除所有的或被选的事件处理程序，或者当事件发生时终止指定函数的运行。</li><li>该方法也可以通过 event 对象取消绑定的事件处理程序。该方法也用于对自身内部的事件取消绑定（如当事件已被触发一定次数之后，删除事件处理程序）。</li></ol>',19),b=n("li",null,"如果未规定参数，则 unbind() 方法会删除指定元素的所有事件处理程序。",-1),g=n("li",null,"unbind() 方法适用于任意由 jq 添加的事件处理程序。",-1),h=n("code",null,"jq 1.7",-1),y={href:"https://www.runoob.com/jquery/event-on.html",target:"_blank",rel:"noopener noreferrer"},f={href:"https://www.runoob.com/jquery/event-off.html",target:"_blank",rel:"noopener noreferrer"},q=p('<h4 id="val" tabindex="-1"><a class="header-anchor" href="#val" aria-hidden="true">#</a> .val()</h4><p><code>val()</code> ：返回被选元素的 value 属性。</p><p><code>val(value)</code> ：设置被选元素的 value 属性。</p><p><code>val(function(index, currentvalue))</code> ：通过函数设置被选元素的 value 属性。</p><ol><li>index ：返回集合中元素的 index 位置</li><li>currentvalue ：返回被选元素的当前 value</li><li>函数中 return 回的值即为新设置的 value</li></ol><h3 id="window-location" tabindex="-1"><a class="header-anchor" href="#window-location" aria-hidden="true">#</a> window.location</h3><p><code>location</code> 对象包含了有关当前 URL 的信息。</p><p><code>location</code> 对象是 <code>window</code> 对象的一部分，可通过 <code>window.location</code> 对其进行访问。</p><p><img src="'+i+'" alt="image-20211009093303904"></p><h4 id="location-对象属性" tabindex="-1"><a class="header-anchor" href="#location-对象属性" aria-hidden="true">#</a> location 对象属性</h4>',10),w=n("thead",null,[n("tr",null,[n("th",null,"属性"),n("th",null,"描述")])],-1),x={href:"https://www.runoob.com/jsref/prop-loc-hash.html",target:"_blank",rel:"noopener noreferrer"},_=n("td",null,"返回一个 URL 的锚部分",-1),j={href:"https://www.runoob.com/jsref/prop-loc-host.html",target:"_blank",rel:"noopener noreferrer"},A=n("td",null,"返回一个 URL 的主机名和端口",-1),S={href:"https://www.runoob.com/jsref/prop-loc-hostname.html",target:"_blank",rel:"noopener noreferrer"},C=n("td",null,"返回 URL 的主机名",-1),R={href:"https://www.runoob.com/jsref/prop-loc-href.html",target:"_blank",rel:"noopener noreferrer"},I=n("td",null,"返回完整的 URL",-1),L={href:"https://www.runoob.com/jsref/prop-loc-pathname.html",target:"_blank",rel:"noopener noreferrer"},z=n("td",null,"返回的 URL 路径名",-1),B={href:"https://www.runoob.com/jsref/prop-loc-port.html",target:"_blank",rel:"noopener noreferrer"},D=n("td",null,"返回一个 URL 服务器使用的端口号",-1),U={href:"https://www.runoob.com/jsref/prop-loc-protocol.html",target:"_blank",rel:"noopener noreferrer"},$=n("td",null,"返回一个 URL 协议",-1),O={href:"https://www.runoob.com/jsref/prop-loc-search.html",target:"_blank",rel:"noopener noreferrer"},T=n("td",null,[s("返回一个 URL 的查询部分，即返回一个 URL 从 "),n("code",null,"?"),s(" 开始的后面所有部分")],-1),W=n("h4",{id:"location-对象方法",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#location-对象方法","aria-hidden":"true"},"#"),s(" location 对象方法")],-1),P=n("thead",null,[n("tr",null,[n("th",null,"方法"),n("th",null,"说明")])],-1),N={href:"https://www.runoob.com/jsref/met-loc-assign.html",target:"_blank",rel:"noopener noreferrer"},E=n("td",null,"载入一个新的文档",-1),M={href:"https://www.runoob.com/jsref/met-loc-reload.html",target:"_blank",rel:"noopener noreferrer"},H=n("td",null,"重新载入当前文档",-1),F={href:"https://www.runoob.com/jsref/met-loc-replace.html",target:"_blank",rel:"noopener noreferrer"},Q=n("td",null,"用新的文档替代当前文档",-1),X=n("h3",{id:"unescape-函数",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#unescape-函数","aria-hidden":"true"},"#"),s(" unescape() 函数")],-1),K={href:"https://www.runoob.com/jsref/jsref-escape.html",target:"_blank",rel:"noopener noreferrer"},G=n("p",null,[s("用法："),n("code",null,"unescape(string)")],-1),V=n("code",null,"unescape()",-1),Y={href:"https://www.runoob.com/jsref/jsref-decodeuri.html",target:"_blank",rel:"noopener noreferrer"},Z=p(`<h3 id="qrcode-js" tabindex="-1"><a class="header-anchor" href="#qrcode-js" aria-hidden="true">#</a> QRCode.js</h3><p>一个用于生成二维码的 js 库。主要是通过获取 DOM 的标签，再通过 HTML5 Canvas 绘制而成，不依赖任何库。</p><h4 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法" aria-hidden="true">#</a> 基本用法</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>qrcode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">new</span> <span class="token class-name">QRCode</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;qrcode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;http://www.runoob.com&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 设置要生成二维码的链接</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="使用一些可选参数" tabindex="-1"><a class="header-anchor" href="#使用一些可选参数" aria-hidden="true">#</a> 使用一些可选参数</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> qrcode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QRCode</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;http://www.runoob.com&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
	<span class="token literal-property property">colorDark</span><span class="token operator">:</span> <span class="token string">&quot;#000000&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">colorLight</span><span class="token operator">:</span> <span class="token string">&quot;#ffffff&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">correctLevel</span><span class="token operator">:</span> QRCode<span class="token punctuation">.</span>CorrectLevel<span class="token punctuation">.</span><span class="token constant">H</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="其他方法" tabindex="-1"><a class="header-anchor" href="#其他方法" aria-hidden="true">#</a> 其他方法</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>qrcode<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 清除代码</span>
qrcode<span class="token punctuation">.</span><span class="token function">makeCode</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.w3cschool.cc&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 生成另外一个二维码</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,8),J={href:"http://static.runoob.com/download/qrcodejs-04f46c6.zip",target:"_blank",rel:"noopener noreferrer"},nn={href:"https://github.com/davidshimjs/qrcodejs",target:"_blank",rel:"noopener noreferrer"},sn=n("h4",{id:"其他问题",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#其他问题","aria-hidden":"true"},"#"),s(" 其他问题")],-1),an=n("p",null,"原生库生成二维码的时候，如果文本长度在 215 左右就会报错，GIthub 库也没有修复，但是有一个修复了的额外的库",-1),tn={href:"https://github.com/KeeeX/qrcodejs",target:"_blank",rel:"noopener noreferrer"},pn=p(`<h3 id="页面隐藏后重新出现时-仍然播放-animation-动画" tabindex="-1"><a class="header-anchor" href="#页面隐藏后重新出现时-仍然播放-animation-动画" aria-hidden="true">#</a> 页面隐藏后重新出现时，仍然播放 animation 动画</h3><p>简易实现代码如下：</p><h4 id="html-代码" tabindex="-1"><a class="header-anchor" href="#html-代码" aria-hidden="true">#</a> html 代码</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="css-代码" tabindex="-1"><a class="header-anchor" href="#css-代码" aria-hidden="true">#</a> css 代码</h4><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">div[class^=&quot;box&quot;]</span> <span class="token punctuation">{</span>
	<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
	<span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box1</span> <span class="token punctuation">{</span>
	<span class="token property">left</span><span class="token punctuation">:</span> -100px<span class="token punctuation">;</span>
	<span class="token property">animation</span><span class="token punctuation">:</span> move 0.8s ease forwards<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box2</span> <span class="token punctuation">{</span>
	<span class="token property">left</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@keyframes</span> move</span> <span class="token punctuation">{</span>
	<span class="token selector">to</span> <span class="token punctuation">{</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>200px<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="js-代码" tabindex="-1"><a class="header-anchor" href="#js-代码" aria-hidden="true">#</a> js 代码</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> isShow <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 用于判断当前盒子是否显示</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>isShow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		isShow <span class="token operator">=</span> <span class="token operator">!</span>isShow
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		isShow <span class="token operator">=</span> <span class="token operator">!</span>isShow
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="filereader" tabindex="-1"><a class="header-anchor" href="#filereader" aria-hidden="true">#</a> FileReader</h3>`,9),en={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader",target:"_blank",rel:"noopener noreferrer"},on=n("code",null,"FileReader",-1),cn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/File",target:"_blank",rel:"noopener noreferrer"},ln={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Blob",target:"_blank",rel:"noopener noreferrer"},un=n("code",null,"File",-1),rn=n("code",null,'<input type="file">',-1),kn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileList",target:"_blank",rel:"noopener noreferrer"},dn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/DataTransfer",target:"_blank",rel:"noopener noreferrer"},vn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement",target:"_blank",rel:"noopener noreferrer"},mn=n("code",null,"mozGetAsFile()",-1),bn=p('<blockquote><p><code>FileReader</code> 仅用于以安全的方式从用户（远程）系统读取文件内容 它不能用于从文件系统中按路径名简单地读取文件。 要在 JavaScript 中按路径名读取文件，应使用标准 <code>Ajax</code> 解决方案进行服务器端文件读取，如果读取跨域，则使用 <code>CORS</code> 权限。</p></blockquote><h4 id="属性" tabindex="-1"><a class="header-anchor" href="#属性" aria-hidden="true">#</a> 属性</h4><h5 id="error" tabindex="-1"><a class="header-anchor" href="#error" aria-hidden="true">#</a> .error</h5><p>表示在读取文件时发生的错误。</p><h5 id="readystate" tabindex="-1"><a class="header-anchor" href="#readystate" aria-hidden="true">#</a> .readyState</h5><p>表示 <code>FileReader</code> 状态的数字。取值如下：</p><table><thead><tr><th>常量名</th><th>值</th><th>描述</th></tr></thead><tbody><tr><td>EMPTY</td><td>0</td><td>还没有加载任何数据</td></tr><tr><td>LOADING</td><td>1</td><td>数据正在被加载</td></tr><tr><td>DONE</td><td>2</td><td>已完成全部的读取请求</td></tr></tbody></table><h5 id="result" tabindex="-1"><a class="header-anchor" href="#result" aria-hidden="true">#</a> .result</h5><p>文本的内容。</p><ul><li>该属性仅在 <span style="color:orange;">读取操作完成后才有效</span> ，数据的格式取决于使用哪个方法来启动读取操作。</li></ul><h4 id="事件处理" tabindex="-1"><a class="header-anchor" href="#事件处理" aria-hidden="true">#</a> 事件处理</h4><h5 id="onabort" tabindex="-1"><a class="header-anchor" href="#onabort" aria-hidden="true">#</a> .onabort</h5>',12),gn={href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/abort_event",target:"_blank",rel:"noopener noreferrer"},hn=n("li",null,"该事件在读取操作被中断时触发。",-1),yn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader/onabort",target:"_blank",rel:"noopener noreferrer"},fn=n("h5",{id:"onerror",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#onerror","aria-hidden":"true"},"#"),s(" .onerror")],-1),qn={href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/error_event",target:"_blank",rel:"noopener noreferrer"},wn=n("li",null,"该事件在读取操作发生错误时触发。",-1),xn={href:"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/onerror",target:"_blank",rel:"noopener noreferrer"},_n=n("h5",{id:"onload",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#onload","aria-hidden":"true"},"#"),s(" .onload")],-1),jn={href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event",target:"_blank",rel:"noopener noreferrer"},An=n("li",null,[n("p",null,"该事件在读取操作完成时触发。")],-1),Sn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader/onload",target:"_blank",rel:"noopener noreferrer"},Cn=p(`<li><p>简单用法：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 一个文件上传的回调 &lt;input type=&quot;file&quot; onchange=&quot;onChange(event)&quot;&gt;</span>
<span class="token keyword">function</span> <span class="token function">onChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> file <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
	<span class="token keyword">var</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 文件里的文本会在这里被打印出来</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>`,1),Rn=n("code",null,"FileReader",-1),In={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget",target:"_blank",rel:"noopener noreferrer"},Ln={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener",target:"_blank",rel:"noopener noreferrer"},zn=n("h4",{id:"方法",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#方法","aria-hidden":"true"},"#"),s(" 方法")],-1),Bn=n("h5",{id:"abort",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#abort","aria-hidden":"true"},"#"),s(" .abort()")],-1),Dn=n("p",null,"终止读取操作。",-1),Un=n("li",null,[n("p",null,[s("在返回时，"),n("code",null,"readyState"),s(" 属性为 "),n("code",null,"DONE"),s(" 。")])],-1),$n={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader/abort",target:"_blank",rel:"noopener noreferrer"},On=n("h5",{id:"readasarraybuffer",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#readasarraybuffer","aria-hidden":"true"},"#"),s(" .readAsArrayBuffer()")],-1),Tn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Blob",target:"_blank",rel:"noopener noreferrer"},Wn={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",target:"_blank",rel:"noopener noreferrer"},Pn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader/readAsArrayBuffer",target:"_blank",rel:"noopener noreferrer"},Nn=n("h5",{id:"readasdataurl",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#readasdataurl","aria-hidden":"true"},"#"),s(" .readAsDataURL()")],-1),En={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Blob",target:"_blank",rel:"noopener noreferrer"},Mn=n("li",null,[s("一旦完成，result 属性中将包含一个 "),n("code",null,"data:"),s(" URL 格式的 Base64 字符串以表示所读取文件的内容。")],-1),Hn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader/readAsDataURL",target:"_blank",rel:"noopener noreferrer"},Fn=n("h5",{id:"readastext",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#readastext","aria-hidden":"true"},"#"),s(" .readAsText()")],-1),Qn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Blob",target:"_blank",rel:"noopener noreferrer"},Xn=n("li",null,"一旦完成，result 属性中将包含一个字符串以表示所读取的文件内容。",-1),Kn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader/readAsText",target:"_blank",rel:"noopener noreferrer"},Gn=n("h3",{id:"photoclip",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#photoclip","aria-hidden":"true"},"#"),s(" PhotoClip")],-1),Vn={href:"https://www.npmjs.com/package/photoclip",target:"_blank",rel:"noopener noreferrer"},Yn=n("p",null,"此插件有三个依赖库：",-1),Zn={href:"https://github.com/cubiq/iscroll",target:"_blank",rel:"noopener noreferrer"},Jn={href:"https://github.com/hammerjs/hammer.js",target:"_blank",rel:"noopener noreferrer"},ns={href:"https://github.com/think2011/localResizeIMG",target:"_blank",rel:"noopener noreferrer"},ss=p(`<blockquote><p>这三个依赖文件必须全部引入，否则此插件不会生效。</p></blockquote><h4 id="引入文件" tabindex="-1"><a class="header-anchor" href="#引入文件" aria-hidden="true">#</a> 引入文件</h4><ul><li><p>js 文件</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://wxcdn.pannacloud.com/2021/rongchuang/0427_draw/js/hammer.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://wxcdn.pannacloud.com/2021/rongchuang/0427_draw/js/iscroll-zoom-min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://wxcdn.pannacloud.com/2021/rongchuang/0427_draw/js/lrz.all.bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://wxcdn.pannacloud.com/2021/rongchuang/0427_draw/js/PhotoClip.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="简单使用" tabindex="-1"><a class="header-anchor" href="#简单使用" aria-hidden="true">#</a> 简单使用</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
	<span class="token selector">body</span> <span class="token punctuation">{</span>
		<span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
		<span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token selector">#clipArea</span> <span class="token punctuation">{</span>
		<span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token selector">#file,
	#clipBtn</span> <span class="token punctuation">{</span>
		<span class="token property">margin</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token selector">#view</span> <span class="token punctuation">{</span>
		<span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
		<span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
		<span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
		<span class="token property">background-color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clipArea<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clipBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>截取<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>view<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/hammer.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/iscroll-zoom-min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/lrz.all.bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/PhotoClip.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">var</span> pc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PhotoClip</span><span class="token punctuation">(</span><span class="token string">&quot;#clipArea&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">outputSize</span><span class="token operator">:</span> <span class="token number">640</span><span class="token punctuation">,</span>
		<span class="token comment">// adaptive: [&#39;60%&#39;, &#39;80%&#39;],</span>
		<span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&quot;#file&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token string">&quot;#view&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">ok</span><span class="token operator">:</span> <span class="token string">&quot;#clipBtn&quot;</span><span class="token punctuation">,</span>
		<span class="token comment">//img: &#39;img/mm.jpg&#39;,</span>
		<span class="token function-variable function">loadStart</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;开始读取照片&quot;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">loadComplete</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;照片读取完成&quot;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">done</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">dataURL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataURL<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">alert</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token comment">// 加载的图片必须要与本程序同源，否则无法截图</span>
	<span class="token comment">// pc.load() 是在用户没有选择图片时，预先加载的一个可操作的图片</span>
	pc<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;img/mm.jpg&quot;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="错误" tabindex="-1"><a class="header-anchor" href="#错误" aria-hidden="true">#</a> 错误</h3><ol><li><p>将 <code>if</code> 中的连续的判断条件写成自然表达式，如：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// num &gt; 80 &amp;&amp; num &lt; 90   正确写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">80</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">&lt;</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	xxx
<span class="token punctuation">}</span>
<span class="token comment">// 80 &lt; num &lt; 90   错误写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">80</span> <span class="token operator">&lt;</span> num <span class="token operator">&lt;</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	xxx
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>canvas 报错无法使用 toDataURL 导出被污染的画布：</p><blockquote><p>解决办法：给该图片添加 <code>bg.crossOrigin = &quot;anonymous&quot;</code></p></blockquote></li></ol><h2 id="苏沪天文问答" tabindex="-1"><a class="header-anchor" href="#苏沪天文问答" aria-hidden="true">#</a> 苏沪天文问答</h2><h3 id="ajax-请求" tabindex="-1"><a class="header-anchor" href="#ajax-请求" aria-hidden="true">#</a> ajax 请求</h3><h4 id="基本使用" tabindex="-1"><a class="header-anchor" href="#基本使用" aria-hidden="true">#</a> 基本使用</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>popup<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment">// 在 ajax 请求前加一个 pupup 是为了解决在请求时用户胡乱点击等页面操作</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;loading&#39;</span><span class="token punctuation">,</span>
    tip：<span class="token string">&#39;提示词&#39;</span>，
<span class="token punctuation">}</span><span class="token punctuation">)</span>

$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;dal/dal.aspx?action=后端给的接口&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">&#39;需要上传的数据&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 如果有需要上传的数据就写</span>
    <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// res 中包含的就是后台传递过来的数据</span>
        <span class="token comment">// 其中一般包含如下几个</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>
            IsSuccess<span class="token punctuation">,</span>
            Msg<span class="token punctuation">,</span>
            Data
        <span class="token punctuation">}</span> <span class="token operator">=</span> res
        popup<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 请求成功后隐藏 popup</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>IsSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token comment">// 需要执行的操作</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 需要执行的操作</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><span style="color:#820014;">因为微信公众号网页基本都是以点击事件为主要事件的，所以这些 ajax 请求尽量不要进行封装操作，这样是为了以后某一个按钮被点击之后出现问题方便直接进行排查，且对此按钮中的请求事件的代码改动也不会影响其他按钮的点击事件。</span></p></blockquote><h4 id="如果将-ajax-封装了" tabindex="-1"><a class="header-anchor" href="#如果将-ajax-封装了" aria-hidden="true">#</a> 如果将 ajax 封装了</h4><p>如果将 ajax 封装了，后续又需要在 ajax 中调用该方法，并且需要执行一些操作时，可以使用回调函数：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getAjax</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    	<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;请求地址&#39;</span><span class="token punctuation">,</span>
    	<span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">,</span>
    	<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">&#39;需要上传的数据&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 如果有需要上传的数据就写</span>
    	<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token comment">// res 中包含的就是后台传递过来的数据</span>
        	<span class="token comment">// 其中一般包含如下几个</span>
        	<span class="token keyword">const</span> <span class="token punctuation">{</span>
            	IsSuccess<span class="token punctuation">,</span>
            	Msg<span class="token punctuation">,</span>
            	Data
        	<span class="token punctuation">}</span> <span class="token operator">=</span> res
        	<span class="token keyword">if</span> <span class="token punctuation">(</span>IsSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        		<span class="token comment">// 执行传入的回调函数</span>
            	cb <span class="token operator">&amp;&amp;</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            	<span class="token comment">// 需要执行的操作</span>
        	<span class="token punctuation">}</span>
    	<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.btn&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">getAjax</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里写需要执行的操作</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="前端手动添加按钮-lock-锁" tabindex="-1"><a class="header-anchor" href="#前端手动添加按钮-lock-锁" aria-hidden="true">#</a> 前端手动添加按钮 lock 锁</h3><h4 id="基本使用-1" tabindex="-1"><a class="header-anchor" href="#基本使用-1" aria-hidden="true">#</a> 基本使用</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> lock <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">.</span>btn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lock <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 点击按钮后将 lock 置为 true ，即上锁</span>
        <span class="token comment">// 执行点击按钮后的触发事件 event</span>
        <span class="token operator">...</span>
        <span class="token comment">// 在这个触发事件完成后将锁调回 false 状态，即解锁</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>eventIsDone<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	lock <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这个 lock 锁的作用是防止用户对着一个按钮疯狂点击而多次触发事件或者 ajax 请求，同时，若是答题类型的页面，题目的选项按钮的 class 名都相同的情况下，可以做到限定用户只能选中一个答案。</p></blockquote><h3 id="向页面中插入内容" tabindex="-1"><a class="header-anchor" href="#向页面中插入内容" aria-hidden="true">#</a> 向页面中插入内容</h3><p>当需要动态的往页面中插入内容时，尽量使用 <code>.html(template)</code> 方法向 DOM 结构中插入内容。因为每次 html() 插入内容时，它会自动替换掉上一次的内容，而 <code>.append(template)</code> 只会在当前结构现有内容的最后一行插入新内容，本身存在的内容不会被去掉，这样就可能导致页面重叠显示。</p><h3 id="控制页面的显隐" tabindex="-1"><a class="header-anchor" href="#控制页面的显隐" aria-hidden="true">#</a> 控制页面的显隐</h3><p>使用 <code>.fadeOut()</code> 和 <code>.fadeIn()</code> 控制即可，因为这个方法是直接给元素添加行内样式：<code>style=&quot;display: none&quot;</code> 和 <code>style=&quot;display: block&quot;</code> 。就不需要使用这两个方法的情况下还是用 <code>.addClass()</code> 和 <code>.removeClass()</code> 给元素添加 / 删除 <code>display:none</code> 。</p><h3 id="当需要通过后端返回的数据进行匹配其他固定数据时" tabindex="-1"><a class="header-anchor" href="#当需要通过后端返回的数据进行匹配其他固定数据时" aria-hidden="true">#</a> 当需要通过后端返回的数据进行匹配其他固定数据时</h3><p>例如，需要通过后台返回的城市和奖品数据匹配用户领奖地点等信息时：这时就需要在前端页面中写入一个字典，然后通过后台数据到字典中查找其他信息：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> dict <span class="token operator">=</span> <span class="token punctuation">{</span>
	城市<span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">&quot;地址1&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token string">&quot;时间1&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">phone</span><span class="token operator">:</span> <span class="token string">&quot;电话1&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">project</span><span class="token operator">:</span> <span class="token string">&quot;项目1&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	城市<span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		奖品<span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">&quot;地址2&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token string">&quot;时间2&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">phone</span><span class="token operator">:</span> <span class="token string">&quot;电话2&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">project</span><span class="token operator">:</span> <span class="token string">&quot;项目2&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		奖品<span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">&quot;地址3&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token string">&quot;时间3&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">phone</span><span class="token operator">:</span> <span class="token string">&quot;电话3&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">project</span><span class="token operator">:</span> <span class="token string">&quot;项目3&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">returnInformation</span><span class="token punctuation">(</span><span class="token parameter">city<span class="token punctuation">,</span> prize</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 这个函数的作用就是对传入的信息进行匹配，然后返回数据进行使用</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>dict<span class="token punctuation">[</span>city<span class="token punctuation">]</span><span class="token punctuation">[</span>prize<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 先匹配是否有二级字典，是因为一级字典是绝对存在的</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dict&quot;</span><span class="token punctuation">,</span> dict<span class="token punctuation">[</span>city<span class="token punctuation">]</span><span class="token punctuation">[</span>prize<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> dict<span class="token punctuation">[</span>city<span class="token punctuation">]</span><span class="token punctuation">[</span>prize<span class="token punctuation">]</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dict&quot;</span><span class="token punctuation">,</span> dict<span class="token punctuation">[</span>city<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> dict<span class="token punctuation">[</span>city<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jquery-1" tabindex="-1"><a class="header-anchor" href="#jquery-1" aria-hidden="true">#</a> jQuery</h3><h4 id="attr" tabindex="-1"><a class="header-anchor" href="#attr" aria-hidden="true">#</a> .attr()</h4><p><code>.attr()</code> ：用于获取 / 替换元素的某个属性。</p><ol><li>获取：<code>$(&#39;.element&#39;).attr(&#39;属性名，如 class 、src 等&#39;)</code></li><li>替换：<code>$(&#39;.element&#39;).attr(&#39;属性名，如 class 、src 等&#39;，需要替换成的值)</code></li></ol><h3 id="betterscroll-2-0" tabindex="-1"><a class="header-anchor" href="#betterscroll-2-0" aria-hidden="true">#</a> BetterScroll 2.0</h3>`,31),as={href:"https://github.com/cubiq/iscroll",target:"_blank",rel:"noopener noreferrer"},ts={href:"https://better-scroll.github.io/docs/zh-CN/guide/",target:"_blank",rel:"noopener noreferrer"},ps=p(`<h4 id="简单使用-1" tabindex="-1"><a class="header-anchor" href="#简单使用-1" aria-hidden="true">#</a> 简单使用</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> infoScroll <span class="token operator">=</span> BetterScroll<span class="token punctuation">.</span><span class="token function">createBScroll</span><span class="token punctuation">(</span><span class="token string">&quot;#info&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token comment">// 监听的盒子，即 #info 与其下一级的盒子的高度不能一致</span>
	<span class="token literal-property property">scrollY</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token comment">// 可以纵向滚动</span>
	<span class="token literal-property property">scrollX</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token comment">// 不能横向滚动</span>
	<span class="token literal-property property">bounce</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token comment">// 当滚动超过边缘时会有一段回弹动画，false 关闭</span>
	<span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token comment">// 不阻止浏览器原生 click 事件，true 时，会给派发的 event 参数加一个私有属性 _constructed = true</span>
	<span class="token literal-property property">tap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token comment">// 因为 BetterScroll 会阻止原生 click 事件，设置 tap 为 &#39;tap&#39; ，它会在区域被点击的时候派发一个 tap 事件，可以像监听原生事件那样监听它</span>
	<span class="token literal-property property">useTransition</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token comment">// 是否使用 CSS3 transition 动画。false 则使用 requestAnimationFrame 做动画</span>
	<span class="token literal-property property">preventDefaultException</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^|\\s)preload(\\s|$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">/*
	备注：   
	  BetterScroll 会阻止原生的滚动，这样也阻止了一些原生组件的默认行为。
	  这时，我们不能对这些元素做 preventDefault ，所以我们可以配置这个属性。
	  默认值：&#39;{tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/}&#39;
	         表示 &lt;input&gt; 、&lt;textarea&gt; 、&lt;button&gt; 、&lt;select&gt; 、&lt;audio&gt; 这些元素的默认行为不会被阻止。
	                
	作用：
	  这个配置的 key 是 DOM 元素的属性值，value 可以是一个正则表达式。
	  如要配一个 class 名称为 test 的元素，那么配置规则为：&#39;{className:/(^|\\s)test(\\s|$)/}&#39;
	*/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="refresh" tabindex="-1"><a class="header-anchor" href="#refresh" aria-hidden="true">#</a> .refresh()</h4><ul><li>参数：无</li><li>返回值：无</li><li>作用：重新计算 BetterScroll ，当 DOM 结构发生变化时，务必要调用确保滚动的效果正常。</li></ul><h4 id="disable" tabindex="-1"><a class="header-anchor" href="#disable" aria-hidden="true">#</a> .disable()</h4><ul><li>参数：无</li><li>返回值：无</li><li>作用：禁用 BetterScroll ，DOM 事件（如 <code>touchstart | touchmove | touchend</code> ）的回调函数不再响应。 <ol><li>touchstart ：用户触摸一个元素时发生。</li><li>touchmove ：当用户从元素上移开手指时发生。</li><li>touchend ：当用户触摸元素时发生。</li><li>touchcancel ：当用户在屏幕上移动手指时发生。</li></ol></li></ul><h4 id="enable" tabindex="-1"><a class="header-anchor" href="#enable" aria-hidden="true">#</a> .enable()</h4><ul><li>参数：无</li><li>返回值：无</li><li>作用：启用 BetterScroll ，默认开启。</li></ul><h4 id="stop" tabindex="-1"><a class="header-anchor" href="#stop" aria-hidden="true">#</a> .stop()</h4><ul><li>参数：无</li><li>返回值：无</li><li>作用：立即停止当前运行的滚动动画。</li></ul><h4 id="on-type-fn-context" tabindex="-1"><a class="header-anchor" href="#on-type-fn-context" aria-hidden="true">#</a> .on(type, fn, context)</h4><ul><li><p>参数：</p><ol><li>type [string] ：事件名</li><li>fn [function] ：回调函数</li><li>context [object] ：函数执行的上下文环境，默认是 this</li></ol></li><li><p>返回值：无</p></li><li><p>作用：监听当前实例上的钩子函数。如：scroll 、scrollEnd 等。</p></li><li><p>示例：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> scroll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span>elementName<span class="token punctuation">[</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">probeType</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">onScroll</span><span class="token punctuation">(</span><span class="token parameter">pos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Now position is x: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pos<span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, y: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pos<span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

scroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span> onScroll<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h5 id="move" tabindex="-1"><a class="header-anchor" href="#move" aria-hidden="true">#</a> move</h5><ul><li><p>作用：用来判断滑动的方向和速度</p></li><li><p>参数</p><ol><li>deltax[number] ：x 方向手指偏移量</li><li>deltay[number] ：y 方向手指偏移量</li><li>e[event] ：event 事件对象</li></ol></li><li><p>示例：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> scroll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterScroll</span><span class="token punctuation">(</span>elementName<span class="token punctuation">[</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">probeType</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> hooks <span class="token operator">=</span> scroll<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>actionsHandler<span class="token punctuation">.</span>hooks
hooks<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;move&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> deltaX<span class="token punctuation">,</span> deltaY<span class="token punctuation">,</span> e <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h5 id="scroll" tabindex="-1"><a class="header-anchor" href="#scroll" aria-hidden="true">#</a> scroll</h5><ul><li><p>作用：用来获取滚动位置</p></li><li><p>触发：滚动时</p></li><li><p>参数：position</p><ol><li>position.x ：x 方向滚动的位置</li><li>position.y ：y 方向滚动的位置</li></ol></li><li><p>示例：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>bs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> position<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="mobile-select-级联选择器" tabindex="-1"><a class="header-anchor" href="#mobile-select-级联选择器" aria-hidden="true">#</a> mobile-select 级联选择器</h3><h4 id="引入" tabindex="-1"><a class="header-anchor" href="#引入" aria-hidden="true">#</a> 引入</h4><ol><li><p>方式一：</p><div class="language-HTML line-numbers-mode" data-ext="HTML"><pre class="language-HTML"><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mobileSelect.css&quot; /&gt;
&lt;script src=&quot;js/mobileSelect.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>方式二：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 安装</span>
npm install mobile<span class="token operator">-</span>select <span class="token operator">-</span><span class="token constant">D</span>

<span class="token comment">// 在 js 文件中使用</span>
<span class="token keyword">import</span> MobileSelect <span class="token keyword">from</span> <span class="token string">&#39;mobile-select&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="快速使用" tabindex="-1"><a class="header-anchor" href="#快速使用" aria-hidden="true">#</a> 快速使用</h4><ol><li><p>普通数组格式 —— 非联动</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trigger1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 页面中别漏了这个trigger --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">var</span> mobileSelect1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MobileSelect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">&quot;#trigger1&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;单项选择&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">wheels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;周日&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周一&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周二&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周五&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周六&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//初始化定位</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>json 格式 —— 非联动</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trigger2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">var</span> mobileSelect2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MobileSelect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">&quot;#trigger2&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;地区选择&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">wheels</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;附近&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;上城区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;下城区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;江干区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;拱墅区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;西湖区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;1000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;2000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;3000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;5000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;10000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">indexArr<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">//返回选中的json数据</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>json 格式 —— 联动 —— 包含 <code>childs: []</code> 属性</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trigger3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">var</span> mobileSelect3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MobileSelect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">&quot;#trigger3&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;地区选择-联动&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">wheels</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
					<span class="token punctuation">{</span>
						<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;附近&quot;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">childs</span><span class="token operator">:</span> <span class="token punctuation">[</span>
							<span class="token comment">// childs 属性用于联动</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;1000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;2000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;3000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;5000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;10000米&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">]</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;上城区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;下城区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;江干区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;拱墅区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;西湖区&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">indexArr<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">//返回选中的json数据</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在 vue-cli 中使用 —— 使用 方式二 进行引入</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trigger4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>单项选择<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> MobileSelect <span class="token keyword">from</span> <span class="token string">&quot;mobile-select&quot;</span>

	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> mobileSelect4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MobileSelect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">&quot;#trigger4&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;单项选择&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">wheels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;周日&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周一&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周二&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周五&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;周六&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">indexArr<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>数据字段名映射 —— 使用 <code>keyMap: {}</code> 进行映射</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trigger5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token comment">/*
  	假如你的数据的字段名为 id, title, children
  	与 mobileSelect 的 id, value, childs 字段名不匹配
  	可以用 keyMap 属性进行字段名映射 
  */</span>
	<span class="token keyword">var</span> mobileSelect5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MobileSelect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">&quot;#trigger5&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;数据字段名映射&quot;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">wheels</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
					<span class="token punctuation">{</span>
						<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;A1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;A-a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;A2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;A-b&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;A3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;A-c&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">]</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span>
						<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;B1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;B-a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;B2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;B-b&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
							<span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;B3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;B-c&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">]</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">keyMap</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token comment">// 当自己的数据字段与 mobileSelect 的数据字段不一致时，使用 keyMap 进行映射</span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">childs</span><span class="token operator">:</span> <span class="token string">&quot;children&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">indexArr<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="参数" tabindex="-1"><a class="header-anchor" href="#参数" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th>选项</th><th>默认值</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>trigger</td><td><span style="color:red;">必填。</span> <br>无默认值。</td><td>String</td><td>触发对象的 \`id</td></tr><tr><td>wheels</td><td><span style="color:red;">必填。</span> <br>无默认值。</td><td>Array</td><td>数据源，需要显示的数据。</td></tr><tr><td>callback</td><td>function(indexArr, data) {}</td><td>function</td><td>选择成功后触发的回调函数，返回 indexArr，data 。<br><code>indexArr</code> ：是当前被选中的数据的索引组成的数组。<br><code>data</code> ：当前选中的 json 数据。</td></tr><tr><td>transitionEnd</td><td>function(indexArr, data) {}</td><td>function</td><td>每一次手势滑动结束后触发的回调函数,返回 indexArr 、data</td></tr><tr><td>cancel</td><td>function(indexArr, data) {}</td><td>function</td><td>返回的是 indexArr 和 data 是<span style="color:orange;">上一次</span>点击确认按钮时的值</td></tr><tr><td>onShow</td><td>function(e) {}</td><td>function</td><td>显示控件后触发的回调函数，返回参数为对象本身</td></tr><tr><td>onHide</td><td>function(e) {}</td><td>function</td><td>隐藏控件后触发的回调函数，返回参数为对象本身</td></tr><tr><td>title</td><td><code>&#39;&#39;</code></td><td>String</td><td>控件标题</td></tr><tr><td>position</td><td>[0,0,0,…]</td><td>Array</td><td>初始化定位</td></tr><tr><td>connector</td><td><code>&#39; &#39;</code></td><td>String</td><td>多个轮子时，多个值中间的连接符，默认是空格</td></tr><tr><td>ensureBtnText</td><td><code>&#39;确认&#39;</code></td><td>String</td><td>确认按钮的文本内容</td></tr><tr><td>cancelBtnText</td><td><code>&#39;取消&#39;</code></td><td>String</td><td>取消按钮的文本内容</td></tr><tr><td>ensureBtnColor</td><td><code>&#39;#1e83d3&#39;</code></td><td>String</td><td>确认按钮的文本颜色</td></tr><tr><td>cancelBtnColor</td><td><code>&#39;#666666&#39;</code></td><td>String</td><td>取消按钮的文本颜色</td></tr><tr><td>titleColor</td><td><code>&#39;#000000&#39;</code></td><td>String</td><td>控件标题的文本颜色</td></tr><tr><td>titleBgColor</td><td><code>&#39;#ffffff&#39;</code></td><td>String</td><td>控件标题的背景颜色</td></tr><tr><td>textColor</td><td><code>&#39;#000000&#39;</code></td><td>String</td><td>轮子内文本的颜色</td></tr><tr><td>bgColor</td><td><code>&#39;#ffffff&#39;</code></td><td>String</td><td>轮子背景颜色</td></tr><tr><td>maskOpacity</td><td><code>0.7</code></td><td>Number</td><td>遮罩透明度</td></tr><tr><td>keyMap</td><td><code>{id:&#39;id&#39;, value:&#39;value&#39;, childs:&#39;childs&#39;</code>}</td><td>Object</td><td>字段名映射，适用于字段名不匹配 \`id</td></tr><tr><td>triggerDisplayData</td><td><code>true</code></td><td>Boolean</td><td>在点击确认时，trigger 的 innerHtml 是否变为选择的数据（如果 trigger 里面还有其他元素，则可以设置为 false；如果需要在别的地方显示数据，则可用 callback 返回的数据自行拼接）。</td></tr></tbody></table><h4 id="功能函数" tabindex="-1"><a class="header-anchor" href="#功能函数" aria-hidden="true">#</a> 功能函数</h4><table><thead><tr><th>函数名</th><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>show()</td><td>无参</td><td>手动显示弹窗组件</td></tr><tr><td>hide()</td><td>无参</td><td>手动隐藏弹窗组件</td></tr><tr><td>setTitle()</td><td>string</td><td>设置控件的标题</td></tr><tr><td>locatePosition()</td><td>sliderIndex 、posIndex<br><code>sliderIndex</code> ：要修改的轮子的索引。<br><code>posIndex</code> ：代表位置索引。</td><td>传入位置数组，重新定位轮子选中的位置</td></tr><tr><td>updateWheel()</td><td>sliderIndex 、data</td><td>重新渲染指定的轮子</td></tr><tr><td>updateWheels()</td><td>data</td><td>重新渲染所有轮子(仅限级联数据格式使用)</td></tr><tr><td>getValue()</td><td>无参</td><td>获取组件选择的值</td></tr></tbody></table><h4 id="其他官方-demo" tabindex="-1"><a class="header-anchor" href="#其他官方-demo" aria-hidden="true">#</a> 其他官方 demo</h4>`,26),es={href:"https://github.com/onlyhom/mobile-select/blob/master/docs/README-CN.md#-%E5%8A%9F%E8%83%BD%E5%87%BD%E6%95%B0-demo",target:"_blank",rel:"noopener noreferrer"},os=p(`<h3 id="姓名电话验证" tabindex="-1"><a class="header-anchor" href="#姓名电话验证" aria-hidden="true">#</a> 姓名电话验证</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//public.pannacloud.com/js/pn_com.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!-- 姓名 input --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name_input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ptAbs name_input<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 电话 input --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>11<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>phone_input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ptAbs phone_input<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token comment">// 验证</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">.</span><span class="token function">vertify</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> name_input<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		popup<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;toast&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">tip</span><span class="token operator">:</span> <span class="token string">&quot;姓名格式不正确&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>$<span class="token punctuation">.</span><span class="token function">vertify</span><span class="token punctuation">(</span><span class="token string">&quot;tel&quot;</span><span class="token punctuation">,</span> phone_input<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		popup<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;toast&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">tip</span><span class="token operator">:</span> <span class="token string">&quot;电话格式不正确&quot;</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>

	<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#phone_input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 限制电话长度</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="分享成功后增加次数等操作" tabindex="-1"><a class="header-anchor" href="#分享成功后增加次数等操作" aria-hidden="true">#</a> 分享成功后增加次数等操作</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Share<span class="token punctuation">.</span><span class="token function">hideCopyUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Share<span class="token punctuation">.</span><span class="token function">shareOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token comment">// 分享成功后的回调函数</span>
	<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 发起分享成功的 ajax 请求</span>
		$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;dal/dal.aspx?action=请求接口&quot;</span><span class="token punctuation">,</span>
			<span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>
			<span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">const</span> <span class="token punctuation">{</span> Data <span class="token punctuation">}</span> <span class="token operator">=</span> res
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;locationData&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
				popup<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
					<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;toast&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">tip</span><span class="token operator">:</span> <span class="token string">&quot;分享成功&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.share_page&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">// 隐藏分享页面</span>
					<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">&quot;hide&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 这个去掉类名的操作视情况而定写与不写</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="公众号网页内点击按钮跳转到小程序" tabindex="-1"><a class="header-anchor" href="#公众号网页内点击按钮跳转到小程序" aria-hidden="true">#</a> 公众号网页内点击按钮跳转到小程序</h3>`,6),cs={href:"https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_Open_Tag.html#21",target:"_blank",rel:"noopener noreferrer"},ls=n("h4",{id:"引入文件-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#引入文件-1","aria-hidden":"true"},"#"),s(" 引入文件")],-1),is=n("p",null,[s("将模板中引入的 "),n("code",null,"share-wx.js"),s(" 文件改为下面链接中的 "),n("code",null,"share-wx.js"),s(" 文件：")],-1),us={href:"https://wx.pannacloud.com/2021/shimao/1020_answer/js/share-wx.js?version=1",target:"_blank",rel:"noopener noreferrer"},rs=p(`<h4 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!-- 按钮 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get_btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wx-open-launch-weapp</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>miniapp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>launch-btn-1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">username</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!--
			微信中跳转小程序专用的标签 
			username 为小程序的原始 id，即以 gh_ 开头的那个 id
			path 为想要去到的本小程序中的某个页面的路径
		--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/wxtag-template<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
			<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
				<span class="token punctuation">.</span>btn_1 <span class="token punctuation">{</span>  <span class="token comment">// 这个按钮的样式</span>
					<span class="token literal-property property">width</span><span class="token operator">:</span> 78px<span class="token punctuation">;</span>
					<span class="token literal-property property">height</span><span class="token operator">:</span> 25px<span class="token punctuation">;</span>
					<span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
					background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;btn_1&quot;</span><span class="token operator">&gt;</span>打开小程序<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wx-open-launch-weapp</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">var</span> btn_1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;launch-btn-1&quot;</span><span class="token punctuation">)</span>
	btn_1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	btn_1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;fail&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="k11-k-星穿越指南" tabindex="-1"><a class="header-anchor" href="#k11-k-星穿越指南" aria-hidden="true">#</a> K11 K 星穿越指南</h2><h3 id="分享" tabindex="-1"><a class="header-anchor" href="#分享" aria-hidden="true">#</a> 分享</h3><ol><li><p>导入文件</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//res.wx.qq.com/open/js/jweixin-1.2.0.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//cdn.pannacloud.com/js/share.1.0.1.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>分享代码</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">SHARE</span><span class="token punctuation">.</span><span class="token function">shareOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token comment">// Share 改为 SHARE</span>
	<span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">&quot;/K11/1029_Show/&quot;</span><span class="token punctuation">,</span>
	<span class="token comment">// 分享链接不能写网络连接，直接写绝对路径</span>
	<span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&quot;/K11/1029_Show/img/share.jpg&quot;</span><span class="token punctuation">,</span>
	<span class="token comment">// 分享图片和链接一致</span>
	<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;K星穿越指南&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;带你玩转光谷最大ACGN社交场&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="苏沪摇房节" tabindex="-1"><a class="header-anchor" href="#苏沪摇房节" aria-hidden="true">#</a> 苏沪摇房节</h2><h3 id="分享给他人助力" tabindex="-1"><a class="header-anchor" href="#分享给他人助力" aria-hidden="true">#</a> 分享给他人助力</h3><ol><li><p>拿到后端传过来的自己的 OpenId</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> myOpenId <span class="token operator">=</span> <span class="token string">&quot;&lt;%=shareId %&gt;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>将自己的 OpenId 拼接在分享链接后面</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Share<span class="token punctuation">.</span><span class="token function">shareOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">正常分享链接/index.aspx?shareids=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>myOpenId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
	<span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>被分享的人打开此链接是进入指定界面</p><ol><li><p>使用正则表达式匹配获取分享人的 OpenId</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> shareids <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
<span class="token comment">// 存储分享人的 OpenId</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;(^|&amp;)&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;shareids&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 定义匹配 shareids 的正则表达式</span>
<span class="token keyword">let</span> r <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
<span class="token comment">// 匹配 shareids</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> shareids <span class="token operator">=</span> <span class="token function">unescape</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 匹配到 shareids 则存储起来</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在 loader 中进行判断</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">staticResource</span><span class="token operator">:</span> sourceData<span class="token punctuation">,</span>
	<span class="token literal-property property">bgmCtrl</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token function-variable function">handleLoading</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">handleFileLoaded</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">handleComplete</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;shareids&#39;</span><span class="token punctuation">,</span> shareids<span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>shareids <span class="token operator">&amp;&amp;</span> shareids <span class="token operator">!==</span> myOpenId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 通过别人请求助力的链接进入</span>
			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.loading&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token comment">// 显示助力页面</span>
            <span class="token operator">...</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 通过正常链接进入</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.loading&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token number">4</span>
            <span class="token comment">// 显示正常页面</span>
            <span class="token operator">...</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li></ol><h3 id="跳过视频" tabindex="-1"><a class="header-anchor" href="#跳过视频" aria-hidden="true">#</a> 跳过视频</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 跳过按钮</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.skip&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;video&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">&#39;pause&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// 这里写跳过视频后页面的显隐</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="不使用-a-标签-点击按钮跳转链接" tabindex="-1"><a class="header-anchor" href="#不使用-a-标签-点击按钮跳转链接" aria-hidden="true">#</a> 不使用 a 标签，点击按钮跳转链接</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;链接&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="仁恒置地报名-h5" tabindex="-1"><a class="header-anchor" href="#仁恒置地报名-h5" aria-hidden="true">#</a> 仁恒置地报名 H5</h2><h3 id="自定义背景音乐控制按钮" tabindex="-1"><a class="header-anchor" href="#自定义背景音乐控制按钮" aria-hidden="true">#</a> 自定义背景音乐控制按钮</h3><ol><li><p>设置 <code>bgmCtr1 = false</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token operator">...</span>
	<span class="token literal-property property">bgmCtrl</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// 关闭默认的 bgm 控制按钮</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>自己写一个 bgm 控制按钮，我们假设其为 <code>class = &#39;diyBgmCtrl&#39;</code></p></li><li><p>实例化音乐</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> sourceData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
	<span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">&#39;./bgm/bgm.mp3&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;music&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>  <span class="token comment">// 设置音乐，设置 id = &#39;music&#39; ，而不是 &#39;bgm&#39;</span>

<span class="token keyword">let</span> music <span class="token operator">=</span> <span class="token keyword">null</span>  <span class="token comment">// 自定义背景音乐，这个变量为实例化 music</span>

$<span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">staticResource</span><span class="token operator">:</span> sourceData<span class="token punctuation">,</span>
	<span class="token literal-property property">bgmCtrl</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// 关闭默认的 bgm 控制按钮</span>
	<span class="token operator">...</span>
	<span class="token function-variable function">handleComplete</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 实例化 music ，即实例化 sourceData 中 id = &#39;music&#39; 的音乐</span>
		music <span class="token operator">=</span> createjs<span class="token punctuation">.</span>Sound<span class="token punctuation">.</span><span class="token function">createInstance</span><span class="token punctuation">(</span><span class="token string">&quot;music&quot;</span><span class="token punctuation">)</span>
		<span class="token comment">// 播放背景音乐 music</span>
		music<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">loop</span><span class="token operator">:</span> <span class="token number">99</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>设置 bgm 控制按钮的点击事件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 音乐按钮的点击事件 music</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.diyBgmCtrl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> isRunning <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;按钮中一个有动画的 element 的 className&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;animation-play-state&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 获取动画执行状态</span>
	<span class="token comment">// 通过三元表达式改变动画执行或停止这个状态</span>
	isRunning <span class="token operator">==</span> <span class="token string">&quot;running&quot;</span>
		<span class="token operator">?</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.diyBgmCtrl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>elementName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token string-property property">&quot;animation-play-state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;paused&quot;</span><span class="token punctuation">,</span>
		  <span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.diyBgmCtrl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>elementName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token string-property property">&quot;animation-play-state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;running&quot;</span><span class="token punctuation">,</span>
		  <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token comment">// 通过三元表达式判断动画执行状态来改变背景音乐执行或停止</span>
	isRunning <span class="token operator">==</span> <span class="token string">&quot;running&quot;</span> <span class="token operator">?</span> <span class="token punctuation">(</span>music<span class="token punctuation">.</span>paused <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">:</span> music<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// music.paused = true 为暂停播放音频</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="swiper" tabindex="-1"><a class="header-anchor" href="#swiper" aria-hidden="true">#</a> swiper</h3>`,16),ks={href:"https://swiper.com.cn/",target:"_blank",rel:"noopener noreferrer"},ds=p(`<h3 id="swiper-垂直滑动" tabindex="-1"><a class="header-anchor" href="#swiper-垂直滑动" aria-hidden="true">#</a> swiper 垂直滑动</h3><ol><li><p>导入文件：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>link href<span class="token operator">=</span><span class="token string">&quot;https://cdn.bootcdn.net/ajax/libs/Swiper/4.0.0/css/swiper.min.css&quot;</span> rel<span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.bootcdn.net/ajax/libs/Swiper/4.0.0/js/swiper.min.js&quot;</span><span class="token operator">&gt;</span>   <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>HTML：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
	<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ptAbs center swiper_area swiper-initialized swiper-vertical 
swiper-pointer-events<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- *滑动区域，这个盒子的高度为内部盒子高度之和 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>swiper-wrapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-live</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>polite<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">transition-duration</span><span class="token punctuation">:</span> 0ms<span class="token punctuation">;</span> <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0rem<span class="token punctuation">,</span> 0rem<span class="token punctuation">,</span> 0rem<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- *每个盒子都是滑动后显示内容，宽高与视口一致 --&gt;</span>
		<span class="token comment">&lt;!-- ?第一个可滑动页面 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide1 swiper-slide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1/6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- ?第二个可滑动页面 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide2 swiper-slide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2/6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- ?第三个可滑动页面 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide3 swiper-slide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3/6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- ?第四个可滑动页面 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide4 swiper-slide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4/6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- ?第五个可滑动页面 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide5 swiper-slide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5/6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- ?第六个可滑动页面 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide6 swiper-slide<span class="token punctuation">&quot;</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6/6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>js：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Swiper</span><span class="token punctuation">(</span><span class="token string">&quot;.swiper_area&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置滑动方向为垂直方向</span>
	<span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">&#39;vertical&#39;</span><span class="token punctuation">,</span>
	<span class="token comment">// *页面滑动不跟随手指或鼠标，即上下滑动时，不显示上下内容，松开手指或鼠标后内容向上或向下滑动切换</span>
	<span class="token literal-property property">followFinger</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// slideChangeTransitionEnd: 手指或鼠标滑动结束, swiper 4.0.0 启用</span>
		<span class="token function-variable function">slideChangeTransitionEnd</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    		<span class="token operator">...</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="swiper-其他参数" tabindex="-1"><a class="header-anchor" href="#swiper-其他参数" aria-hidden="true">#</a> swiper 其他参数</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> mySwiper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Swiper</span><span class="token punctuation">(</span><span class="token string">&quot;.swiper_area&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token string">&quot;horizontal&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 垂直切换选项,</span>
	<span class="token comment">// freeMode: true,</span>
	<span class="token literal-property property">autoplay</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">delay</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 切换到下一张的延迟时间</span>
		<span class="token literal-property property">stopOnLastSlide</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 如果设置为true，当切换到最后一个slide时停止自动切换。（loop模式下无效）</span>
		<span class="token literal-property property">disableOnInteraction</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
		<span class="token comment">/* 
      用户操作swiper之后，是否禁止autoplay。默认为true：停止。
      如果设置为false，用户操作swiper之后自动切换不会停止，每次都会重新启动autoplay。
      操作包括触碰(touch)，拖动，点击pagination等。
    */</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">2500</span><span class="token punctuation">,</span> <span class="token comment">// 每一张轮播完成的时间</span>
	<span class="token literal-property property">loop</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 无线循环</span>
	<span class="token literal-property property">simulateTouch</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//禁止鼠标模拟</span>
	<span class="token literal-property property">allowTouchMove</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁止手机上的触摸滑动</span>
	<span class="token literal-property property">followFinger</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 页面滑动不跟手</span>
	<span class="token literal-property property">slidesPerView</span><span class="token operator">:</span> <span class="token string">&quot;auto&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 滑动页面的大小自定义</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="swiper-插件在微信开发者工具中不生效" tabindex="-1"><a class="header-anchor" href="#swiper-插件在微信开发者工具中不生效" aria-hidden="true">#</a> swiper 插件在微信开发者工具中不生效</h3><blockquote><p>注：下面这个方法解决的是 swiper 在手机和浏览器中生效，但是在微信开发者工具中不生效</p></blockquote><img src="`+u+`" alt="image-20211118151052889"><h3 id="般若-pn-com-js-文件中验证表单输入" tabindex="-1"><a class="header-anchor" href="#般若-pn-com-js-文件中验证表单输入" aria-hidden="true">#</a> 般若 pn_com.js 文件中验证表单输入</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/*
	功能: 验证用户输入
	参数1: type[string -- 验证类型]
	参数2: str[string -- 验证字符串]
*/</span>
<span class="token function-variable function">vertify</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> reg
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;name&#39;</span><span class="token operator">:</span>
      reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[\\u4E00-\\u9FA5]{2,6}$</span><span class="token regex-delimiter">/</span></span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">&#39;tel&#39;</span><span class="token operator">:</span>
      reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3456789][0-9]\\d{8}$</span><span class="token regex-delimiter">/</span></span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">&#39;idcard&#39;</span><span class="token operator">:</span>
      reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]{1}[0-9]{14}$|^[1-9]{1}[0-9]{16}([0-9]|[xX])$</span><span class="token regex-delimiter">/</span></span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">&#39;email&#39;</span><span class="token operator">:</span>
      reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$</span><span class="token regex-delimiter">/</span></span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">&#39;age&#39;</span><span class="token operator">:</span>
      reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9][0-9]{0,1}$</span><span class="token regex-delimiter">/</span></span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
  <span class="token comment">/*
  	test() 是一个正则表达式方法，用于检测一个字符串是否匹配某个模式。
  	匹配返回 true，否则返回 false
  */</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="楚天地产投票-h5" tabindex="-1"><a class="header-anchor" href="#楚天地产投票-h5" aria-hidden="true">#</a> 楚天地产投票 H5</h2><h3 id="betterscroll-2-0-开启滚动条并修改滚动条样式" tabindex="-1"><a class="header-anchor" href="#betterscroll-2-0-开启滚动条并修改滚动条样式" aria-hidden="true">#</a> BetterScroll 2.0 开启滚动条并修改滚动条样式</h3><ol><li><p>开启滚动条</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">BS</span> <span class="token operator">=</span> BetterScroll<span class="token punctuation">.</span><span class="token function">createBScroll</span><span class="token punctuation">(</span><span class="token string">&quot;#BScroll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">scrollY</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token literal-property property">scrollX</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token literal-property property">bounce</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token literal-property property">tap</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token literal-property property">useTransition</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token literal-property property">scrollbar</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">fade</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 滚动停止时，滚动条不消失</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 开启滚动条显示</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改滚动条样式</p><div class="language-less line-numbers-mode" data-ext="less"><pre class="language-less"><code><span class="token comment">// 修改 BetterScroll 自带的滚动条样式</span>
<span class="token selector">.bscroll-vertical-scrollbar</span> <span class="token punctuation">{</span>
	<span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token property">z-index</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>
	<span class="token property">border-radius</span><span class="token punctuation">:</span> 0.06rem<span class="token punctuation">;</span>
	<span class="token property">background-color</span><span class="token punctuation">:</span> #e59117<span class="token punctuation">;</span>

	<span class="token selector">.bscroll-indicator</span> <span class="token punctuation">{</span>
		<span class="token property">border</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>
		<span class="token property">background-color</span><span class="token punctuation">:</span> #f1440e <span class="token important">!important</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="上传用户选择的图片" tabindex="-1"><a class="header-anchor" href="#上传用户选择的图片" aria-hidden="true">#</a> 上传用户选择的图片</h3><ol><li><p>用户上传图片</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/jpg,image/jpeg,image/png,image/gif<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>创建一个本地浏览的图片路径</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createLocalURL</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token keyword">null</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		url <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>webkitURL<span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		url <span class="token operator">=</span> window<span class="token punctuation">.</span>webkitURL<span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> url
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>将用户选中的图片转换成 img 对象</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/* 压缩前，要将 input[file] 文件转换为 img 对象 */</span>
<span class="token keyword">function</span> <span class="token function">readImg</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			img<span class="token punctuation">.</span>src <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result
		<span class="token punctuation">}</span>
		reader<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
		img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		img<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>压缩图片：就是将 img 对象绘制在 canvas 画布上，此时图片就被压缩了</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * 压缩图片
 * <span class="token keyword">@param</span> <span class="token parameter">img</span> 被压缩的img对象
 * <span class="token keyword">@param</span> <span class="token parameter">type</span> 压缩后转换的文件类型
 * <span class="token keyword">@param</span> <span class="token parameter">mx</span> 触发压缩的图片最大宽度限制
 * <span class="token keyword">@param</span> <span class="token parameter">mh</span> 触发压缩的图片最大高度限制
 */</span>
<span class="token keyword">function</span> <span class="token function">compressImg</span><span class="token punctuation">(</span><span class="token parameter">img<span class="token punctuation">,</span> type<span class="token punctuation">,</span> mx<span class="token punctuation">,</span> mh</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> originWidth<span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> originHeight <span class="token punctuation">}</span> <span class="token operator">=</span> img
		<span class="token comment">// 最大尺寸限制</span>
		<span class="token keyword">const</span> maxWidth <span class="token operator">=</span> mx
		<span class="token keyword">const</span> maxHeight <span class="token operator">=</span> mh
		<span class="token comment">// 目标尺寸</span>
		<span class="token keyword">let</span> targetWidth <span class="token operator">=</span> originWidth
		<span class="token keyword">let</span> targetHeight <span class="token operator">=</span> originHeight
		<span class="token keyword">if</span> <span class="token punctuation">(</span>originWidth <span class="token operator">&gt;</span> maxWidth <span class="token operator">||</span> originHeight <span class="token operator">&gt;</span> maxHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>originWidth <span class="token operator">/</span> originHeight <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// 宽图片</span>
				targetWidth <span class="token operator">=</span> maxWidth
				targetHeight <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>maxWidth <span class="token operator">*</span> <span class="token punctuation">(</span>originHeight <span class="token operator">/</span> originWidth<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token comment">// 高图片</span>
				targetHeight <span class="token operator">=</span> maxHeight
				targetWidth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>maxHeight <span class="token operator">*</span> <span class="token punctuation">(</span>originWidth <span class="token operator">/</span> originHeight<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> targetWidth
		canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> targetHeight
		context<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> targetWidth<span class="token punctuation">,</span> targetHeight<span class="token punctuation">)</span>
		<span class="token comment">// 图片绘制</span>
		context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> targetWidth<span class="token punctuation">,</span> targetHeight<span class="token punctuation">)</span>
		canvas<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">blob</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> type <span class="token operator">||</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>将压缩后的图片上传到 <strong>qiniu</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> imgData <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">let</span> img<span class="token punctuation">.</span>LocalURL <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">let</span> compressImgData <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;input&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 将用户选中的图片进行压缩，并生成本地预览链接</span>
  imgData <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
	<span class="token keyword">const</span> fileType <span class="token operator">=</span> imgData<span class="token punctuation">.</span>type

  <span class="token comment">// 生成本地预览连接，可以将其放到 img 的 src 中进行预览</span>
	imgLocalURL <span class="token operator">=</span> <span class="token function">createLocalURL</span><span class="token punctuation">(</span>imgData<span class="token punctuation">)</span>
	<span class="token operator">...</span>
	imgData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readImg</span><span class="token punctuation">(</span>imgData<span class="token punctuation">)</span>

	compressImgData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">compressImg</span><span class="token punctuation">(</span>imgData<span class="token punctuation">,</span> fileType<span class="token punctuation">,</span> <span class="token number">1080</span><span class="token punctuation">,</span> <span class="token number">1920</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;.confirm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&#39;file&#39;</span><span class="token punctuation">,</span> compressImgData<span class="token punctuation">,</span> <span class="token string">&#39;xxx.png&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 指定上传图片的格式为 .png</span>
	formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&#39;file2&#39;</span><span class="token punctuation">,</span> compressImgData<span class="token punctuation">,</span> <span class="token string">&#39;xxx.png&#39;</span><span class="token punctuation">)</span>
	<span class="token keyword">var</span> this_ <span class="token operator">=</span> <span class="token keyword">this</span>
	<span class="token keyword">let</span> imgURL <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 保存上传到 qiniu 后的图片的网络资源链接</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;https://dev.pannacloud.com/qiniu/BackUpload/upload.ashx&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">data</span><span class="token operator">:</span> formData<span class="token punctuation">,</span>
		<span class="token comment">// 告诉jQuery不要去处理发送的数据</span>
		<span class="token literal-property property">processData</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
		<span class="token comment">// 告诉jQuery不要去设置Content-Type请求头</span>
		<span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
		<span class="token function-variable function">beforeSend</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			popup<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;loading&#39;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">tip</span><span class="token operator">:</span> <span class="token string">&#39;上传中&#39;</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;正在进行，请稍候&#39;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
			imgURL <span class="token operator">=</span> data<span class="token punctuation">.</span>url <span class="token comment">// !拿到图片的网络链接</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;imgURL_ajax&#39;</span><span class="token punctuation">,</span> imgURL<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// ?如果上面的 ajax 请求失败，则使用此请求</span>
			<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/x-www-form-urlencoded&#39;</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;https://dev.pannacloud.com/qiniu/BackUpload/upload.ashx&#39;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">data</span><span class="token operator">:</span> formData<span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				imgURL <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url <span class="token comment">// !拿到图片的网络链接</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;imgURL_axios&#39;</span><span class="token punctuation">,</span> imgURL<span class="token punctuation">)</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>error <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					popup<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
						<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;toast&#39;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">tip</span><span class="token operator">:</span> <span class="token string">&#39;上传失败&#39;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					popup<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
						<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;toast&#39;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">tip</span><span class="token operator">:</span> <span class="token string">&#39;上传成功&#39;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="k11-情人节项目" tabindex="-1"><a class="header-anchor" href="#k11-情人节项目" aria-hidden="true">#</a> K11 情人节项目</h2><h3 id="将-base64-格式的图片转换为-blob" tabindex="-1"><a class="header-anchor" href="#将-base64-格式的图片转换为-blob" aria-hidden="true">#</a> 将 base64 格式的图片转换为 blob</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 将 base64 转换成 blob</span>
<span class="token keyword">function</span> <span class="token function">dataURLtoBlob</span><span class="token punctuation">(</span><span class="token parameter">dataurl</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> arr <span class="token operator">=</span> dataurl<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		mime <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">:(.*?);</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		bstr <span class="token operator">=</span> <span class="token function">atob</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		n <span class="token operator">=</span> bstr<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
		u8arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		u8arr<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> bstr<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>u8arr<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">type</span><span class="token operator">:</span> mime<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用一个简单的计数函数来确保-canvas-画图的完全执行" tabindex="-1"><a class="header-anchor" href="#使用一个简单的计数函数来确保-canvas-画图的完全执行" aria-hidden="true">#</a> 使用一个简单的计数函数来确保 canvas 画图的完全执行</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment">// 定义一个计数函数来确保 canvas 画图的完全执行</span>
<span class="token keyword">function</span> <span class="token function">Count</span><span class="token punctuation">(</span><span class="token parameter">cvs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> max <span class="token operator">=</span> <span class="token number">7</span>
    <span class="token comment">// 给 max 赋的值为总共需要画上去的 new Image() 的数量</span>
    count<span class="token operator">++</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">let</span> imgpath <span class="token operator">=</span> cvs<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&#39;image/png&#39;</span><span class="token punctuation">)</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">,</span> imgpath<span class="token punctuation">)</span>
        <span class="token comment">// 生成本地预览图片, 这里的 img 指的是指定的显示 canvas 图像的 img 标签</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> cvs <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#canvas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 获取 canvas 标签</span>
<span class="token keyword">const</span> ctx <span class="token operator">=</span> cvs<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&#39;2d&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 获得 2d 上下文对象</span>
<span class="token keyword">const</span> bg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 实例化一个图片对象</span>
bg<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;crossOrigin&quot;</span><span class="token punctuation">,</span> <span class="token string">&#39;anonymous&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 解决 canvas 受污染无法使用 toDataURL 方法导出图像的问题</span>
bg<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token function">Count</span><span class="token punctuation">(</span>cvs<span class="token punctuation">)</span> <span class="token comment">// 每有一个 onload ，就需要调用一次 Count() 函数</span>
<span class="token punctuation">}</span>
bg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19);function vs(ms,bs){const a=l("ExternalLinkIcon");return o(),c("div",null,[k,n("blockquote",null,[n("ol",null,[n("li",null,[s("如需移除元素，但保留数据和事件，请使用 "),n("a",d,[s("detach()"),t(a)]),s(" 方法代替。")]),n("li",null,[s("如只需从被选元素移除内容，请使用 "),n("a",v,[s("empty()"),t(a)]),s(" 方法。")])])]),m,n("blockquote",null,[n("ol",null,[b,g,n("li",null,[s("自 "),h,s(" 版本起，"),n("a",y,[s("on()"),t(a)]),s(" 和 "),n("a",f,[s("off()"),t(a)]),s(" 方法是在元素上添加和移除事件处理程序的首选方法。")])])]),q,n("table",null,[w,n("tbody",null,[n("tr",null,[n("td",null,[n("a",x,[s("hash"),t(a)])]),_]),n("tr",null,[n("td",null,[n("a",j,[s("host"),t(a)])]),A]),n("tr",null,[n("td",null,[n("a",S,[s("hostname"),t(a)])]),C]),n("tr",null,[n("td",null,[n("a",R,[s("href"),t(a)])]),I]),n("tr",null,[n("td",null,[n("a",L,[s("pathname"),t(a)])]),z]),n("tr",null,[n("td",null,[n("a",B,[s("port"),t(a)])]),D]),n("tr",null,[n("td",null,[n("a",U,[s("protocol"),t(a)])]),$]),n("tr",null,[n("td",null,[n("a",O,[s("search"),t(a)])]),T])])]),W,n("table",null,[P,n("tbody",null,[n("tr",null,[n("td",null,[n("a",N,[s("assign()"),t(a)])]),E]),n("tr",null,[n("td",null,[n("a",M,[s("reload()"),t(a)])]),H]),n("tr",null,[n("td",null,[n("a",F,[s("replace()"),t(a)])]),Q])])]),X,n("p",null,[s("可对通过 "),n("a",K,[s("escape()"),t(a)]),s(" 编码的字符串进行解码。")]),G,n("blockquote",null,[n("p",null,[V,s(" 不能使用于对 URL 精选编码，解码 URL 请使用 "),n("a",Y,[s("decodeURI"),t(a)]),s(" 。")])]),Z,n("p",null,[n("a",J,[s("QRCode 库和实例下载"),t(a)]),s(" ——来自菜鸟教程")]),n("p",null,[n("a",nn,[s("Github 地址"),t(a)])]),sn,an,n("p",null,[n("a",tn,[s("https://github.com/KeeeX/qrcodejs"),t(a)])]),pn,n("p",null,[n("a",en,[s("FileReader"),t(a)])]),n("p",null,[on,s(" 对象允许 Web 应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用 "),n("a",cn,[s("File"),t(a)]),s(" 或 "),n("a",ln,[s("Blob"),t(a)]),s(" 对象指定要读取的文件或数据。")]),n("ul",null,[n("li",null,[un,s(" ：可以是来自用户在一个 "),rn,s(" 上选择文件后返回的 "),n("a",kn,[s("FileList"),t(a)]),s(" 对象，也可以来自拖放操作生成的 "),n("a",dn,[s("DataTransfer"),t(a)]),s(" 对象，还可以是来自一个 "),n("a",vn,[s("HTMLCanvasElement"),t(a)]),s(" 上执行 "),mn,s(" 方法后返回结果。")])]),bn,n("p",null,[s("处理 "),n("a",gn,[s("abort"),t(a)]),s(" 事件。")]),n("ul",null,[hn,n("li",null,[n("a",yn,[s("onabort"),t(a)])])]),fn,n("p",null,[s("处理 "),n("a",qn,[s("error"),t(a)]),s(" 事件。")]),n("ul",null,[wn,n("li",null,[n("a",xn,[s("onerror"),t(a)])])]),_n,n("p",null,[s("处理 "),n("a",jn,[s("load"),t(a)]),s(" 事件。")]),n("ul",null,[An,n("li",null,[n("p",null,[n("a",Sn,[s("onload"),t(a)])])]),Cn]),n("blockquote",null,[n("p",null,[s("因为 "),Rn,s(" 继承自 "),n("a",In,[s("EventTarget"),t(a)]),s(" ，所以所有这些事件也可以通过 "),n("a",Ln,[s("addEventListener"),t(a)]),s(" 方法使用。")])]),zn,Bn,Dn,n("ul",null,[Un,n("li",null,[n("p",null,[n("a",$n,[s(".abort()"),t(a)])])])]),On,n("p",null,[s("开始读取指定的 "),n("a",Tn,[s("Blob"),t(a)]),s(" 中的内容。")]),n("ul",null,[n("li",null,[s("一旦完成，result 属性中保存的将是被去读文件的 "),n("a",Wn,[s("ArrayBuffer"),t(a)]),s(" 数据对象。")]),n("li",null,[n("a",Pn,[s(".readAsArrayBuffer()"),t(a)])])]),Nn,n("p",null,[s("开始读取指定 "),n("a",En,[s("Blob"),t(a)]),s(" 中的内容。")]),n("ul",null,[Mn,n("li",null,[n("a",Hn,[s(".readAsDataURL()"),t(a)])])]),Fn,n("p",null,[s("开始读取指定 "),n("a",Qn,[s("Blob"),t(a)]),s(" 中的内容。")]),n("ul",null,[Xn,n("li",null,[n("a",Kn,[s(".readAsText()"),t(a)])])]),Gn,n("p",null,[n("a",Vn,[s("PhotoClip"),t(a)])]),Yn,n("ol",null,[n("li",null,[n("a",Zn,[s("iscroll-zoom.js"),t(a)])]),n("li",null,[n("a",Jn,[s("hammer.js"),t(a)])]),n("li",null,[n("a",ns,[s("lrz.all.bundle.js"),t(a)])])]),ss,n("p",null,[s("是一个解决移动端（已支持 PC）各种滚动场景需求的插件。它的核心是借鉴的 "),n("a",as,[s("iscroll"),t(a)]),s(" 的实现，api 基本兼容 iscroll ，在 iscroll 的基础上扩展了一些 feature 以及做了一些性能优化。")]),n("p",null,[n("a",ts,[s("better-scroll 官方指南"),t(a)])]),ps,n("p",null,[n("a",es,[s("其他"),t(a)])]),os,n("p",null,[n("a",cs,[s("跳转小程序"),t(a)])]),ls,is,n("p",null,[n("a",us,[s("share-wx.js"),t(a)])]),rs,n("p",null,[n("a",ks,[s("swiper 中文官方网站"),t(a)])]),ds])}const hs=e(r,[["render",vs],["__file","项目笔记.html.vue"]]);export{hs as default};
